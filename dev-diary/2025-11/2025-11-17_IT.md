# Diario dello sviluppatore, data 17 novembre 2025

* [index](../index.md)
* [TDL](../TDL.md)
* [project](https://github.com/users/mrai64/projects/1)
_
* [Route](/routes/web.php)
_
* [◀️ ieri](./2025-11-16_IT.md)
* [log](/storage/logs/laravel.log)
* [MAMP base ↗️](http://127.0.0.1:8888/yapcp/public/)
_ [MAMP mysql ↗️](http://localhost:8888/phpMyAdmin5/index.php?route=/database/structure&db=pcpdb)
  bbedit ./storage/logs/laravel.log

## Ferie? lavori in corso

Continuano le ricostruzioni degli utenti con un pacchetto di 48
immagini prese random, che però sono "solo" una ottantina.

## Ricapitolando

Tabelle ausiliarie svincolate

* countries
* lang_codes
* timezones

tabelle principali:

* users
* federations
* organizations
* contests

tabelle correlate:

* *users*
  * user_contacts
    * aux: countries
    * aux: timezones
  * user_works
    * user_works_validated
      * aux: federation_sections
  * user_roles
* *federations*
  * aux: countries
  * aux: timezones
  * federation_sections
  * federation_distinctions
  * federation_fields
* *contests*
  * aux: countries
  * aux: timezones
  * contest_sections
  * contest_juries
  * contest_awards
  * contest_participants
  * contest_votes
  * contest_works
    * contest_waitings

###

Messi i concorrenti nuovi,
messe le immagini,
messe le immagini a concorso
messi i voti

...e poi il giurato vota? Ancora?

```sql
SELECT
    *
FROM
    pcp_contest_votes
WHERE
    contest_id = 'e8ac5674-c3d1-4afa-adaf-a7d5ed82d292' 
    AND section_id = 'cddbc976-e318-427e-ac88-5cb5f7401012' 
    AND work_id = '019a8b6b-6eaa-7345-8c0f-7f3e627a4575' 
    AND juror_user_id = 'a15bab96-d275-4d45-ba99-e5df0a4bc11e'
```

```sql
SELECT
    *
FROM
    pcp_contest_juries
WHERE
    section_id = 'cddbc976-e318-427e-ac88-5cb5f7401012' 
```

Escono tre giurati che NON sono
quelli

```txt
juror_user_id

249aa50c-ea1d-464a-894b-be35e23e3e49
2c314887-38e3-4f78-9d09-2f6df56094fe
70fad030-7fa8-4977-8866-80a885a572d6
```

La catena dei dati prevede

* concorso
* sezioni del concorso
* giurati delle sezioni del concorso
* voto dei giurati delle sezioni del concorso

Esiste un contest_juries.user_contact_id che non è contest_juries.id,
ecco perché il caricatore dei voti falla...

Perché la id delle giurie non coincide con lo user_id del giurato? per un BANALE
motivo: ci possono essere 2 sezioni (anche tutte) con gli stessi giurati.
Oppure tutte le sezioni e temi possono avere giurati diversi.
