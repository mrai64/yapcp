# Diario dello sviluppatore, data 25 novembre 2025

* [index](../index.md) |
  [To Do List](../TDL.md) da svuotare e migrare in |
  [project](https://github.com/users/mrai64/projects/1) issue list  

* [Route](/routes/web.php)  

* [‚óÄÔ∏è Diario di ieri](./2025-11-24_IT.md)

* <http://yapcp.test/>
* [log](/storage/logs/laravel-2025-11-25.log)  
_

## Arrivato il link al video di Laravel Day

Per scoraggiare lo scarico integrale il video dura 8 ore e 44 minuti,
720p. Ho cercato in avanti e indietro le schermate del db schema senza trovarle.

* Daniele Barbaro

## Dopo timezone?

Francamente non so se sia stata una buona mossa, l'elenco delle timezone
dovrebbe essere piuttosto statico e quindi la soluzione di mettere
tutto in array non la consideravo una soluzione da buttare.

Altro da mettere in tabella: Y/N. Ma soprassiedo.

## Durante e dopo la giuria

Raccolti i voti e prima della sessione finale della giuria
c'√® la lista dei voti, e con la funzione RANK() posso
vedere sia tutti gli ex equo che le %, come posso indicare ai
giurati qual'√® il set delle immagini a cui dare il üëçüèª +1 o il
üëé -1.

Devo creare una tabella di servizio che contiene per
il concorso+sezione un elenco di work_id da votare.
Come la battezzo: tenendo conto che si devono separare,
potrei sfruttare il concetto di buoni e cattivi
*good guys and bad guys*, ma qui chiedo assistenza
a gemini, tra le varie proposte *seleziona e scarto*
sembra la pi√π adatta, mi viene in mente anche miss Italia
con "per te finisce qui" che pu√≤ essere "forward and stop".

### contest_forward_or_stop_works table

Nella tabella:

* id (va bene anche quello standard bigint unsigned autoincrement)
* contest_id uuid char(36) serve a raggruppare le section_id
* section_id uuid char(36) fa chiave
* contest_work_id uuid char(36) soggetto principale
* unique idx [contest_id, section_id, contest_work_id] la vera pk

Alternative: marcare con una colonna review i voti dei giurati che coinvolgono
quel set di contest_work_id. Dominio ''/'Y'

Mi convince di pi√π quel secondo approccio, visto che cmq vanno
revisionati i voti, all'inserimento viene messo un default '',
alla revisione viene aggiornato con ''.

* creazione colonna
* creazione indice (vedi covering index)
  * section_id
  * juror_user_id
  * review_required
  * work_id (contest_works.work_id)

A questo punto il pannello di vista delle immagini per organizzazione concorso
deve prevedere alcune colonne in pi√π del "minimo"

* section_id (per estrazione ma nascosto)
* vote
* work_id

A cui si aggiunge il

* review_required

E quando viene marcato il flag nella tabella va scatenato un
aggiornamento live su tutti i voti del section_id, work_id; cos√¨
come va fatto l'aggiornamento a '' quando viene smarcato.
La cosa pu√≤ sembrare assurda ma occorre pensare che ci possono
essere click del mouse causali come click del tablet casuali.

Si pu√≤ fare una "aggiunta" ovvero il funzionamento base non prevede
la revisione dei voti e la revisione dei voti funziona come add-on.

Intanto i concorsi in corso stanno sforando tutti i calendari...

* concorso - definizione
* concorso - partecipazione
* concorso - votazione

A questo punto organizzatore del concorso ha una pagina per ciascuna sezione
con un elenco delle votazioni. S√¨, qual'√®?
(dove eravamo rimasti?)

[blade](/resources/views/livewire/contest/section/voteboard.blade.php)
[component](/app/Livewire/Contest/Section/Voteboard.php)

### Voteboard

Questa per ora √® un semilavorato, mi procura la lista *completa* delle immagini.
voto seguito da nazione cognome nome userid e work_id.

1. cambiare la lista completa in una paginazione
2. cambiare i dati da esporre in voto + miniatura immagine

[Domanda a gemini](2025-11-25_gemini_say.md)

