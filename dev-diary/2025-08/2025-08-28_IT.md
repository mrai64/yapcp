# Diario dello sviluppatore, data 28 agosto 2025

Nav: [index](../index.md) : [TDL](../TDL.md) : [log](../../storage/logs/laravel.log)

## Federations e FederationSections

La scheda della Federazione dovrÃ  anche avere al suo interno
le tabelle child, oppure con un pulsante passo dalla scheda
principale a una scheda dedicata. Se metto tutto in una scheda
sola sarebbe interessante usare i tabs

Federazione

Contatti / Sezioni / altro

```text
/federation/{fid}
/federation/section/list/{fid}
/federation/{fid}/section/list
/federation/section/{fid}/list
/federation/section/add/{fid}
/federation/section/modify/{sid} 
/federation/section/remove/{sid}
...
/federation-section/list/{fid}
/federation-section/add/{fid}
/federation-section/modify/{sid} 
/federation-section/remove/{sid}
```

PerÃ² forse le Federazioni hanno solo le sezioni come tabella child.

### FederationSections seeder

Visto che le federazioni hanno quasi tutte sigle diverse,
ma non escludo ci siano anche sigle sovrapponibili, ho scelto
di non usare la sigla della federazione come PK, ma questo comporta
che quando faccio i seeder sappia giÃ  qual'Ã¨ l'id della federation.
Che viene assegnato. mettendo nel seeder in testa la funzione
`->truncate()` ottengo che viene svuotata e resettato il
contatore di autoincrement, in questo modo se FIAF Ã¨ la seconda riga
so che avrÃ  assegnato un `id == 2`.

### Enlarge and restrict columns

La federazione FIAF prevede che alle sigle giÃ  indicate
si possa aggiungere la sigla TRAD, a indicare che il concorso
prevede immagini "tipo analogico" senza modifiche significative.
ieri era photoshop oggi Ã¨ la sintografia, c'Ã¨ sempre qualcuno
che guarda al vecchio come migliore.
Questo perÃ² mi procura che la colonna da 3 l'avevo giÃ  piazzata a 5,
ma 5 basta solo per `/TRAD` e quindi devo andare almeno a 8.
La change per allargare la colonna Ã¨ facile e veloce, ma
teoricamente devo fare anche il rientro. Se il rientro comporta
un ritaglio dei dati la alter table non va. Serve quindi
inserire nella drop() prima una funzione di ritaglio dei dati,
e poi passare a cambiare la dimensione della colonna.
Esiste la funzione truncate() ma ha un uso di cancellazione e reset
sull'intera tabella.

## Federation/Section c**R**ud Listed

```php
php artisan livewire:make Federation/Section/Listed
 COMPONENT CREATED  ðŸ¤™

CLASS: app/Livewire/Federation/Section/Listed.php
VIEW:  resources/views/livewire/federation/section/listed.blade.php
```

Uso all'interno la funzione `mount()` che dovrebbe precedere la funzione
`render()` come viene fatto nei controller di modify e remove.

web.php  

Funziona: **commit**

```php
$ php artisan livewire:make Federation/Section/Modify
 COMPONENT CREATED  ðŸ¤™

CLASS: app/Livewire/Federation/Section/Modify.php
VIEW:  resources/views/livewire/federation/section/modify.blade.php
$ php artisan livewire:make Federation/Section/Add
 COMPONENT CREATED  ðŸ¤™

CLASS: app/Livewire/Federation/Section/Add.php
VIEW:  resources/views/livewire/federation/section/add.blade.php
$ php artisan livewire:make Federation/Section/Remove
 COMPONENT CREATED  ðŸ¤™

CLASS: app/Livewire/Federation/Section/Remove.php
VIEW:  resources/views/livewire/federation/section/remove.blade.php
```

La definition in Modify si perde per strada,
che fine fa? Che sia questione di nome? se invece che *definition* lo chiamo *extract*, lat:*excerptum*?

Fatto il refactory, **funziona**, non si danno nomi generici ai campi **definition** no.

Mannaggia la pupazza, ma possibile che sia cosÃ¬ difficile? No, soluzione facile. *errore: federation_id non ha un valore predefinito.* Ne ho provate tante ma niente. All'arrivo in mount() ho la federation_id di riferimento, che metto via in $this->federation_id. Cliccato Add New in $validate ci son tutti i campi meno federation_id, non c'Ã¨ verso di aggiungerlo nemmeno con campo hidden.  
E allora `dd($validated)` mi espone che in quella variable c'Ã¨ un semplice array, quindi Ã¨ facile fare l'aggiunta di ` $validate['federation_id] = $this_federation_id; ` con il dato che ho messo via in `mount(int fid)`.

**Risolto** e imparato, **commit** 