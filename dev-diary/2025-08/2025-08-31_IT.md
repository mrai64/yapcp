# Diario dello sviluppatore, data 30 agosto 2025

Nav: [index](../index.md) : [TDL](../TDL.md) : [log](../../storage/logs/laravel.log)

## Country

Nei pannelli di selezione delle nazioni aggiungere al nome della
nazione della sigla della nazione, che quindi viene associato al valore
poi esposto in elenco federazioni e organizzazioni.

Anche nella scheda personale degli User

## User, e Society?

La rubrica telefonica ha un intelligente
modo di distinguere due cose:
tre campi anzi quattro

- Nome,
- Cognome,
- Società,
- flag "è una società"

Nel vecchio lavoro il quarto campo era un distinguo
tra persone fisiche e persone giuridiche
(apro parentesi: occhio che persona giuridica e
personalità giuridica non vanno confuse, studiare
il perché. chiudo parentesi).

D.: Serve metterlo anche nella tabella User?

R.: **Ma anche no, grazie**. Fintanto che le associazioni
restano associazioni di persone, e le federazioni
sono fatte di persone saranno persone che agiscono
anche in nome e per conto di, ma sempre persone.
Quindi non faccio accedere al sistema un ente ma
il/la rappresentante dell'ente, che nella tabella
**UserRole** avrà il suo incarico di rappresentante
della società OcchioCheScatto, organizzatore di
concorsi fotografici.

## UserWorks

La tabella, com'è intuibile, sarà figlia della tabella User,
e prevede i dati:

- id / uuid
- user_id uuid
- created_at datetime assegnato in automatico
- updated_at datetime assegnato in automatico
- deleted_at datetime assegnato in automatico
  E questi sono di fatto il "minimo sindacale",
  poi seguono altri campi
- title_local
- title_en
  Avvisando che va inserito un titolo nazionale
  e un titolo in inglese per i concorsi
  alcune federazioni non ammettono
  immagini "senza titolo"
- M_C / ['m', 'c']
  Se l'immagine viene dichiarata monocromatica o a colori,
  secondo me il flag exif non basta, la foto a colori
  può essere in scala di grigi e non essere marcata
  come monocromatica
- long_size / int
- short_size / int
- year_id / int
  Oltre ai dati che sono chiesti a tutti, ci possono essere
  anche in questo caso dei "dati aggiuntivi" richiesti
  da federazioni come la FIAF per uso della Commissione
  Controllo Concorsi. In questo caso uno dei dati richiesti
  è l'anno in cui l'immagine ha ricevuto la prima
  *ammissione a concorso* (intendendosi con questa
  la selezione che la giuria fa dalle opere partecipanti
  alle opere che "potrebbero vincere" anche se poi quelle che vincono
  si conteranno sulle dita di qualche mano).
- path_file string percorso e nome file
  Se le opere non vengono memorizzate in archivio
  devono essere memorizzate nel disco. Non è pensabile tenere
  tutte le immagini, che si ipotizza saranno centinaia di migliaia,
  in una sola unica cartella. Servirà una suddivisione.
  string dovrebbe essere limitato a 255 caratteri

### Distribuzione delle opere

Ne avevo già scritto qualche giorno fa, sì.
Proposte alternative:  
a) `\year_id\last_name-first_name-country_id-other\user_work_id.jpg`  
b) `\country_id\last_name-first_name-other\year_id\user_work_id.jpg`  
c) `\user_id\year_id\user_work_id.jpg`

Una buona suddivisione a che serve? Per la prima proposta a)
quando scade il periodo di conservazione, è agevole spostare
tutto nel cestino. Per contro per avere tutti i lavori di un
autore serve fare almeno qualche lettura in più cartelle-anni.

Penso sia migliore la b), per i paesi con più concorrenti
oltre il migliaio(?) adotterò una divisione in sottocartelle con le
prime 2 lettere del cognome, e al loro interno le prime due lettere dei nomi
es.  
\USA\sm\jo\Smith_John_2beb5605-3831-4e03-b8dd-db602f6bf02f\2023\6335e449-5101-41da-b2ed-fda41a7a0ea9.jpg

Per quanto sembri lungo sono "solo" un centinaio di caratteri.  
Qui ci sarà da aggiungere al modulo Add il caricamento dell'immagine,
una alla volta, e creare una pagina bis per il caricamento di N
immagini a cui dovrà seguire la compilazione del modulo Modify
per ciascuna immagine.
