# Diario dello sviluppatore, data 7 ottobre 2025

* [index](../index.md)
* [TDL](../TDL.md)
* [log](/storage/logs/laravel.log)
* [project](https://github.com/users/mrai64/projects/1)
* [◀️ ieri](./2025-10-06_IT.md)

## Prossimo step

### Verifiche su immagini partecipanti a concorso

Avendo reso funzionante il sistema di caricamento e scaricamento immagini
partecipanti a concorso, adesso per le immagini assegnate a una sezione
serve attivare i controlli automatici.

* controllo del numero di immagini inserite in sezione
  esiste un minimo e un massimo, va messo un semaforo rosso
  con indicazione - messaggio di errore
* controllo della dimensione lato corto lato lungo
  long_side short_side
  va messo un semaforo rosso con indicazione del messaggio di errore
* controllo immagine monocromatica in sezione monocromatica
  A parte il fatto che ci possa essere una verifica a posteriori,
  se una sezione richiede M e l'immagine non è stata marcata
  M dall'autore è una distrazione che si può segnalare
  con semaforo rosso e messaggio di errore

Quando fare la verifica:

* Si può fare nella pagina dove si iscrivono
le opere a concorso. Quando si espongono i dati dell'opera.
Questo comporta rifare i test per tutte le opere, ma è fattibile. **good**
* Si può mettere una validazione complessa nel caricamento dell'opera in sezione,
creando una classe validator a parte. Questo impedirebbe di caricare
opere che poi vanno tolte. **win**

Scelta fatta: creare la validation, anzi no la Rule:

```php
$ php artisan make:rule ContestSectionRule

   INFO  Rule [app/Rules/ContestSectionRule.php] created successfully.  
```

Adesso c'è da "aprire" la validation rules().  
Ok, funziona ma c'è un problema, quando imposto la verifica della section_id,
in seguito quel valore NON viene memorizzato per il test. Visto che la verifica
sembra ma non è scritto che funzioni per UN campo alla volta, penso di creare
un campo hidden "combo" di section_id + work_id in modo da testare e validare "la combo".

Alternativa la Request, oppure caricare in form dei campi hidden con sui fare delle validazioni *semplici* con le regola `lte:field`. Alternativa usare la session(json_encode()), magari funziona.

## docs

Prima o poi si deve iniziare a spiegare come funziona la piattaforma,
il *manuale che non legge mai nessuno* può anche diventare uno
spazio blueprint di progettazione delle varie funzioni alternativo
alla lista di issue che stanno antipatiche perché non sono problemi
ma progetti. Già la lista fatta ieri come stato avanzamento lavori e
piazzata oggi in [To Do List](../TDL.md) può costituire un indice
incompleto e in italiano. Servirebbe un indice in inglese e tenere
aperta l'architettura per altre lingue.
