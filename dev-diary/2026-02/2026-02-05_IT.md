# 05/02/2026

[⏪ ieri](./2026-02-04_IT.md) | [index](../index.md) | [domani ⏩](./2026-02-06_IT.md)  
[Docs](/resources/docs/1.0/overview.md)

## Mutator e Accessor

A sentire Gemini si tratta di due funzioni
che si piazzano prima della scrittura e dopo la lettura
del database.

* mutator sono delle funzioni che prendono il dato
  el lo mutano modificano convertono
  prima che sia scritto nel database.  
  Esempio: l'indirizzo email diventa fatto di tutte minuscole  
  Esempio: il codice fiscale diventa di tutte maiuscole
  Esempio: alla password in chiaro viene applicata la funzione di hash() che genera la chiave poi memorizzata,
  ma anche il campo del form che viene confrontato
  con la password memorizzata.

* accessor sono delle funzioni che,
  quando il dato è stato pescato dal database,
  gli fanno delle cose prima che venga passato
  al resto dello script (view comprese)  
  Esempio: mettere le iniziali ai cognomi  
  Esempio: formattare una targa italiana con gli spazi
  intorno alle cifre
  Esempio: versione stampa dell'IBAN con uno spazio
  ogni 4 caratteri

Obiettivo: cambiare i campi Y/N in booleani per
avere dei test $this->is_circuit al posto di $this->is_circuit === 'Y'

Si può usare per la conversione una migration dove
con la funzione update() vengono convertiti N -> 0
e Y -> 1, che restano comunque char(1),
e poi il cambiamento di colonna in tinyint.
Quello che poi va revisionato è la blade (ma anche no,
può restare Y/N) e il controller che da 0/1 deve esporre
Y / N e qui poò entrare in gioco accessor
in mount() e mutator in save().

## Gates e Policy

[Autenticazione e autorizzazione](https://youtu.be/NXt5XqyaaNE?si=0GUC4_ZmrSIPBlw0) (meglio con la traduzione vocale in italiano)  
Non c'è solo l'accesso per entrare in piattaforma.

Esistono autorizzazioni per accedere ed
esistono autorizzazioni per fare. Se i gates
sono autorizzazioni per accedere, sono le policy
le funzioni che indicano cosa si può fare. Entrambi
i sistemi portano a valle un booleano Si/No.

can : può sì/no

Schematizziamo i gruppi a cui un utente registrato nella
piattaforma può entrare:

* Tutti, ma proprio tutti
* Tutti i membri di una organizzazione
* Tutti i membri di una organizzazione
  che fanno parte dell'organizzazione di un concorso
* Tutti i partecipanti di un concorso
* Tutti i giurati di una sezione di un concorso
* Tutti i membri di una federazione
* Tutti i membri d una federazione che possono
  esaminare (qualcosa) nei concorsi

## Campi che dipendono dalle Federazioni

Oltre ai campi già identificati per i concorrenti
della piattaforma, ci sono i campi che sono
FederationMore per i lavori presentati.
Si tratta di definire per i concorsi
a Patrocinio FIAF un campo che integra
il titolo con un "anno di prima ammissione".
Questa data, in formato anno 4 cifre, deve poi
essere riportata nella reportistica dedicata ai
concorsi a Patrocinio FIAF, oltre che comparire
nel nome del file nel formato richiesto dalla
commissione controllo concorsi.

Altro dato che deve essere presente nel concorso, una scheda
tecnica sulla strumentazione tecnica adottata dai
giurati per la visione delle opere. Informazione
richiesta senza alcuna giustificazione reale e che
costituisce un aggravio in più per i concorsi.

Questa informazione diventa un FederationMore
legato ai giurati dei concorsi. Quindi ricade
nelle informazioni personali dentro userContactMore.
C'è un limite di 255 caratteri ma non credo sia necessario fare di più, il paragrafo precedente "cuba" 258
battute, e indicare marca e modello di un monitor, il nome di un sistema operativo e un programma non credo
consumino tutta la stringa a disposizione di 255 caratteri.
Altrimenti si metterà un varchar(400).

* UserContactMore
  * FIAF
    * Tessera
    * Codice fiscale italiano
* UserWorkMore
  * FIAF
    * Anno di prima ammissione
    * formato del titolo nei report e nella esportazione immagini

## Esportazione immagini

Oltre ai report per la federazione va creato
uno zippato che contiene secondo richieste
delle federazioni l'elenco delle opere
ammesse.  
Nello zippato si può 

[*(segue)*](./2026-02-06_IT.md)