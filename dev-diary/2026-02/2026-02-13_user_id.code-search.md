# Query: user_id
# Flags: WordMatch
# Including: *.php
# Excluding: *.md, *.xlsx
# ContextLines: 1

391 risultati - 85 file

app/Exports/Fiaf1ParticipantsExport.php: âœ…
  66                      $q->whereHas('section', fn ($s) => $s->where('contest_id', $cid))
  67:                         ->select('id', 'user_id', 'section_id', 'is_admit');
  68                  },

  74              ->get()
  75:             ->keyBy('user_id');
  76          ds('fcontestParticipants for cid:'.$cid.' & fid:'.$fid);

  83              $row = [
  84:                 'user_id' => $participant->user_id,
  85                  'first_name' => $participant->contact->first_name,

app/Exports/Fiaf2WorksExport.php: âœ…
  74                  'author' => function ($query) { // contest_work->author
  75:                     $query->select('user_id', 'first_name', 'last_name', 'country_id');
  76                  },

  81              // join and sorted by
  82:             ->join('user_contacts', 'contest_works.user_id', '=', 'user_contacts.user_id')
  83              ->join('contest_sections', 'contest_works.section_id', '=', 'contest_sections.id')

app/Http/Controllers/Contest/JuryMinuteDraft.php: âœ…
   50              $jury_members[$section->code] = ContestJury::select(['user_contacts.country_id', 'user_contacts.last_name', 'user_contacts.first_name', 'countries.flag_code'])
   51:                 ->leftJoin('user_contacts', 'user_contacts.user_id', '=', 'contest_juries.user_contact_id')
   52                  ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

   71                  ->where('section_id', $section->id)
   72:                 ->distinct('user_id')
   73:                 ->count('user_id');
   74  

   85                  ->where('is_admit', 1)
   86:                 ->distinct('user_id')
   87:                 ->count('user_id');
   88  

  100                  ])
  101:                 ->leftJoin('user_contacts', 'contest_awards.winner_user_id', '=', 'user_contacts.user_id')
  102                  ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

  119          )
  120:             ->leftJoin('user_contacts', 'user_contacts.user_id', '=', 'contest_awards.winner_user_id')
  121              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

app/Listeners/UserContactBuilder.php: âœ…
  53              UserContact::create([
  54:                 'user_id' => $user->id,
  55                  'email'   => $user->email,

app/Livewire/Contest/Subscribe.php: âœ…
  26      //
  27:     public $user_id;
  28  

  55      {
  56:         $this->user_id = Auth::id();
  57          $this->contest_id = $cid;
  58  
  59:         $this->work_list = Work::where('user_id', $this->user_id)->get();
  60          if (count($this->work_list) < 1) {

  83  
  84:         $this->contest_work_list = ContestWork::where('user_id', $this->user_id)
  85              ->where('contest_id', $cid)

app/Livewire/Contest/Jury/Add.php: âœ…
   89  
   90:         // juror user_id list
   91          $this->juror_list = [];

  151  
  152:             $juror_contact = UserContact::create(['user_id' => $juror->id, 'country_id' => $validated['country_id'], 'first_name' => $validated['first_name'], 'last_name' => $validated['last_name'], 'email' => $validated['email']]);
  153              Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' user_contact:'.json_encode($juror_contact));

  156              Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' found ');
  157:             // pick missing user_id
  158              $juror_contact = UserContact::where('email', $validated['email'])->get()[0];

  161              $juror = new User(); // empty
  162:             $juror->id = $juror_contact['user_id'];
  163              Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' user: '.json_encode($juror));

  167          Log::info('Component '.__CLASS__.' '.__FUNCTION__.' '.__LINE__.' user->id: '.$juror->id);
  168:         if (UserRole::where('user_id', $juror->id)->where('role', 'juror')->where('contest_id', $this->contest_id)->count() === 0) {
  169              $juror_role = UserRole::create([
  170:                 'user_id' => $juror->id,
  171                  'role' => 'juror',

app/Livewire/Contest/Jury/Listed.php: ðŸš§
  37  
  38:         $this->juror = UserContact::where('user_id', $this->juror_user_id)->first();
  39          Log::info('Component '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' juror:'.json_encode($this->juror));

app/Livewire/Contest/Participants/Complete.php:
  37          } else {
  38:             $this->fee_payment_completed = ContestParticipant::where('user_id', $this->participant_id)->where('contest_id', $this->contest_id)->get('fee_payment_completed')[0]['fee_payment_completed'];
  39          }

  72          Log::info(__CLASS__.' '.__FUNCTION__.':'.__LINE__.' this:'.json_encode($this));
  73:         $participant = ContestParticipant::where('user_id', $this->participant_id)->where('contest_id', $this->contest_id)->get()[0];
  74          Log::info(__CLASS__.' '.__FUNCTION__.':'.__LINE__.' this:'.json_encode($participant));

app/Livewire/Contest/Participants/Remove.php:
  37              $data->fee_payment_completed =
  38:             ContestParticipant::where('user_id', $this->participant_id)
  39                  ->where('contest_id', $this->contest_id)

  73          Log::info(__CLASS__.' '.__FUNCTION__.':'.__LINE__.' this:'.json_encode($this));
  74:         $participant = ContestParticipant::where('user_id', $this->participant_id)->where('contest_id', $this->contest_id)->get()[0];
  75          Log::info(__CLASS__.' '.__FUNCTION__.':'.__LINE__.' this:'.json_encode($participant));

app/Livewire/Contest/Subscribe/Add.php:
   31  
   32:     public $user_id;
   33  

   50          // section_id - form field
   51:         $this->user_id = Auth::id(); // even $work->user_id
   52          $this->contest_section_list = $data->contest_section_list;

   84              ],
   85:             'user_id' => 'string|exists:users,id',
   86              'contest_id' => 'string|exists:contests,id',

  101          $validated['contest_id'] = $this->contest_id;
  102:         $validated['user_id'] = $this->user_id;
  103:         $validated['country_id'] = UserContact::getCountryId($this->user_id);
  104  
  105          if ($validated['portfolio_sequence'] == 0) {
  106:             $validated['portfolio_sequence'] = ContestWork::where('section_id', $validated['section_id'])->where('user_id', $this->user_id)->count();
  107              $validated['portfolio_sequence'] += 1;

  114          // check user_participant then add if missing
  115:         $user_participant = ContestParticipant::where('contest_id', $validated['contest_id'])->where('user_id', $validated['user_id'])->count();
  116          if ($user_participant == 0) {

app/Livewire/Contest/Subscribe/Remove.php:
  83          // check if was the last
  84:         $is_the_last = ContestWork::where('user_id', $this->work_in_contest->user_id)->where('contest_id', $this->work_in_contest->contest_id)->count();
  85          if ($is_the_last == 1) {
  86              // yes, is the last
  87:             $user_participant = ContestParticipant::where('user_id', $this->work_in_contest->user_id)->where('contest_id', $this->work_in_contest->contest_id)->first();
  88              $user_participant->delete();

app/Livewire/Juror/SectionBoard.php:
  94  
  95:         $this->juror = UserContact::where('user_id', $this->juror_id)->first();
  96          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' juror:'.json_encode($this->juror));

app/Livewire/Organization/Dashboard.php:
  40          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' id:'.$this->id);
  41:         $this->user_role_list = UserRole::where('organization_id', $id)->orderBy('role')->orderBy('updated_at')->get(['id', 'user_id', 'role', 'role_opening', 'role_closing']);
  42          $this->contest_list = Contest::where('organization_id', $id)->orderBy('updated_at')->get(['id', 'name_en', 'day_2_closing']);

app/Livewire/Organization/Admit/BeforeFinal.php:
   95                              pcp_contest_votes.work_id,
   96:                             pcp_works.user_id,
   97                              pcp_works.work_file,

  101              ->where('contest_votes.contest_id', $this->contest_id)
  102:             ->groupBy('contest_votes.work_id', 'works.user_id', 'works.work_file', 'works.title_en')
  103              ->orderByDesc('total_vote')

app/Livewire/Organization/Award/ContestAssign.php:
  130                  pcp_countries.flag_code,
  131:                 pcp_user_contacts.user_id
  132              ')
  133              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')
  134:             ->leftJoin('contest_awards', 'user_contacts.user_id', '=', 'contest_awards.winner_user_id')
  135              ->where('contest_awards.contest_id', $this->contest_id)

  139                  'user_contacts.first_name',
  140:                 'user_contacts.user_id'
  141              )

  166          )
  167:             ->leftJoin('user_contacts', 'user_contacts.user_id', '=', 'contest_awards.winner_user_id')
  168              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

  185          return [
  186:             'winner_user_id' => 'string|exists:contest_participants,user_id', // TODO build a validation rule() to check 'AND contest_id', simple exists seems too large
  187              'winner_name' => 'string|max:255',

app/Livewire/Organization/Award/ContestAssignedDia.php:
  57              ->leftJoin('contest_awards', 'works.id', '=', 'contest_awards.winner_work_id')
  58:             ->leftJoin('user_contacts', 'contest_awards.winner_user_id', '=', 'user_contacts.user_id')
  59              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

app/Livewire/Organization/Award/ContestAwardAssign.php:
  54                  pcp_countries.flag_code,
  55:                 pcp_user_contacts.user_id
  56              ')
  57              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')
  58:             ->leftJoin('contest_awards', 'user_contacts.user_id', '=', 'contest_awards.winner_user_id')
  59              ->where('contest_awards.contest_id', $this->contest_id)

  63                  'user_contacts.first_name',
  64:                 'user_contacts.user_id'
  65              )

app/Livewire/Organization/Award/SectionAssign.php:
  66          $admittedWorks_set = DB::table('contest_works')
  67:             ->select(['contest_works.work_id', 'contest_works.section_id', 'contest_works.contest_id', 'contest_works.extension', 'contest_works.user_id'])
  68              ->leftJoin('contest_awards', function ($join) {

  75              ->where('contest_works.is_admit', true)
  76:             ->orderBy('user_id')
  77              ->orderBy('work_id')

app/Livewire/Organization/Award/SectionAssignDia.php:
  19  
  20:     public $user_id;
  21  

  36          // user owner of work_id
  37:         $userId = ContestWork::select('user_id')->where('contest_id', $this->contest_id)
  38              ->where('section_id', $this->section_id)
  39              ->where('work_id', $this->work_id)->first();
  40:         $this->user_id = $userId->user_id;
  41  

  81              ->where('award_code', $award_code)
  82:             ->update(['winner_work_id' => $this->work_id, 'winner_user_id' => $this->user_id]);
  83          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' assign: '.json_encode($assign));

app/Livewire/Organization/Award/SectionAssignedDia.php:
  18  
  19:     public $user_id;
  20  

  32          // user owner of work_id
  33:         $this->user_id = ContestWork::select('user_id')->where('id', $this->work_id)->first();
  34  

app/Livewire/Organization/Minute/Draft.php:
   84              $jury_members[$section->code] = ContestJury::select(['user_contacts.country_id', 'user_contacts.last_name', 'user_contacts.first_name', 'countries.flag_code'])
   85:                 ->leftJoin('user_contacts', 'user_contacts.user_id', '=', 'contest_juries.user_contact_id')
   86                  ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

  105                  ->where('section_id', $section->id)
  106:                 ->distinct('user_id')
  107:                 ->count('user_id');
  108  

  119                  ->where('is_admit', 1)
  120:                 ->distinct('user_id')
  121:                 ->count('user_id');
  122  

  134                  ])
  135:                 ->leftJoin('user_contacts', 'contest_awards.winner_user_id', '=', 'user_contacts.user_id')
  136                  ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

  153          )
  154:             ->leftJoin('user_contacts', 'user_contacts.user_id', '=', 'contest_awards.winner_user_id')
  155              ->leftJoin('countries', 'user_contacts.country_id', '=', 'countries.id')

app/Livewire/Organization/PreJury/SectionReview.php:
  78          $userWorksSet = Work::select([ 'works.*', 'user_contacts.country_id', 'user_contacts.last_name', 'user_contacts.first_name'])
  79:             ->join('user_contacts', 'works.user_id', '=', 'user_contacts.user_id')
  80              ->join('contest_works', 'works.id', '=', 'contest_works.work_id')

  92          $userWorksSet = DB::table('works')->select(['works.*', 'user_contacts.country_id', 'user_contacts.last_name', 'user_contacts.first_name'])
  93:             ->join('user_contacts', 'works.user_id', '=', 'user_contacts.user_id')
  94              ->join('contest_works', 'works.id', '=', 'contest_works.work_id')

  96              ->whereNotIn('work_id', $examinedWorksIds)
  97:             ->orderBy('works.user_id')
  98              ->orderBy('works.updated_at')

app/Livewire/Organization/PreJury/WarnEmail.php:
  74          $validated['section_id'] = $this->contest_work->section_id;
  75:         $validated['participant_user_id'] = $this->contest_work->user_id;
  76          $validated['work_id'] = $this->contest_work->work_id;

app/Livewire/Organization/Reports/WorksParticipant.php:
  37              $works = DB::table('contest_works')
  38:                 // LEFT JOIN user_contacts on (contest_works.user_id = user_contacts.user_id)
  39:                 ->leftJoin('user_contacts', 'contest_works.user_id', '=', 'user_contacts.user_id')
  40  

app/Livewire/User/Contact/Listed.php:
  16  {
  17:     public string $user_id;
  18  

  25          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' called');
  26:         $this->user_id = Auth::id();
  27:         $this->user_contact = UserContact::where('user_id', $this->user_id)->first();
  28          $this->country = Country::where('id', $this->user_contact->country_id)->first();

app/Livewire/User/Contact/Modify.php:
   43      // User
   44:     // user_id
   45      public User $user; //          readonly

   50  
   51:     public string $user_id; //     readonly users.id        string uuid
   52  

  105          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' Called id: '.Auth::id());
  106:         $this->user_id = Auth::id();
  107  

  111  
  112:         $this->user_contact = UserContact::where('user_id', $this->user_id)->first();
  113          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' user_contact: '.json_encode($this->user_contact));

  115          $this->id = $this->user_contact->id;
  116:         $this->user_id = $this->user_contact->user_id;
  117          $this->country_id = $this->user_contact->country_id;

  172              'id' => 'required|exists:user_contacts,id',
  173:             'user_id' => 'required|exists:users,id',
  174              'country_id' => 'required|exists:countries,id',

  202          Log::info('Component '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' called');
  203:         $this->user_contact = UserContact::where('user_id', $this->user_id)->first();
  204  

  233          return redirect()
  234:             ->route('dashboard', ['id' => $this->user_id])
  235              ->with('success', __('Your personal info has been updated, thanks!'));

app/Livewire/User/Contact/Modify1YouAre.php:
   48          }
   49:         $this->userContact = UserContact::where('user_id', $uid)->first();
   50          // form fields

  115              ->with('success', __("'Name, Country n Pass photo updated successfully.'"))
  116:             ->route('user-contact-modify2', ['uid' => $this->userContact->user_id]);
  117  

app/Livewire/User/Contact/Modify2PostAddress.php:
   49  
   50:         $this->userContact = UserContact::where('user_id', $uid)->first();
   51          ds($this->userContact);

  100              ->with('success', __("'Postal address updated successfully.'"))
  101:             ->route('user-contact-modify3', ['uid' => $this->userContact->user_id]);
  102      }

app/Livewire/User/Contact/Modify3Phones.php:
  44  
  45:         $this->userContact = UserContact::where('user_id', $uid)->first();
  46          // form fields

  82              ->with('success', __("'Cellular and Whatsapp updated successfully.'"))
  83:             ->route('user-contact-modify4', ['uid' => $this->userContact->user_id]);
  84  

app/Livewire/User/Contact/Modify4Socials.php:
   50  
   51:         $this->userContact = UserContact::where('user_id', $uid)->first();
   52          // form fields

  102                  ->with('success', __("'Personal pages updated successfully.'"))
  103:                 ->route('user-contact-modify1', ['uid' => $this->userContact->user_id]);
  104          }

  108              ->with('success', __("'Personal pages updated successfully.'"))
  109:             ->route('user-contact-modify5', ['fid' => $firstFed->federation_id, 'uid' => $this->userContact->user_id]);
  110      }

app/Livewire/User/Contact/Modify5Feds.php:
  58          $this->userId = $uid;
  59:         $this->userContact = UserContact::where('user_id', $this->userId)->get();
  60  

app/Livewire/User/Role/Listed.php:
   6   *
   7:  * must have user_id
   8   * <livewire:user.role.listed :uid="" >

  51          $this->userRoleSet = UserRole::select(DB::raw('max(id) AS `id_max` '), 'role', 'organization_id', 'federation_id', 'contest_id')
  52:             ->where('user_id', $this->uid)
  53              ->groupBy('organization_id')

app/Livewire/User/Role/Federation/Add.php:
  20  
  21:     public string $user_id;
  22  

  38          Log::info('Component '.__CLASS__.' '.__FUNCTION__.':'.__LINE__.' called');
  39:         $this->user_id = Auth::id();
  40          $this->role_list = UserRolesRoleSet::validRoles(); // []

  76          // integration
  77:         $validated['user_id'] = $this->user_id;
  78:         Log::info(__FUNCTION__.' '.__LINE__.' '.$validated['user_id']);
  79          Log::info(__FUNCTION__.' '.__LINE__.' '.$validated['role']);

app/Livewire/User/Role/Organization/Add.php:
  20  
  21:     public string $user_id;
  22  

  35       */
  36:     public function mount() // no id for user_id
  37      {
  38:         $this->user_id = Auth::id();
  39          $this->role_list = UserRolesRoleSet::validRoles(); // it's an []

  71          // integration
  72:         $validated['user_id'] = $this->user_id;
  73:         // Log::info(__FUNCTION__. ' ' . __LINE__ . ' ' . $validated['user_id']);
  74          // Log::info(__FUNCTION__. ' ' . __LINE__ . ' ' . $validated['role']);

app/Livewire/Work/Add.php:
   39  
   40:     public string $user_id;
   41  

   67          $this->id = Str::uuid(); // no
   68:         $this->user_id = Auth::id();
   69:         $this->photoBox = UserContact::getPhotoBox($this->user_id);
   70          $this->extension = '';

   95              // id             assigned uuid
   96:             // user_id        assigned from Auth::id()
   97              'work_image' => 'required|image|max:65536',

  119          // data integration
  120:         $validated['user_id'] = $this->user_id;
  121          Log::info('Component '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' validated:'.json_encode($validated));

app/Livewire/Work/Listed.php:
  12  {
  13:     public $user_id = null;
  14  

  27      {
  28:         $this->user_id = Auth::id();
  29  
  30          $this->user_contact = UserContact::whereNull('deleted_at')
  31:             ->where('user_id', $this->user_id)
  32:             ->select('user_id', 'country_id', 'first_name', 'last_name')
  33              ->get()[0];

  39          $this->work_list = Work::whereNull('deleted_at')
  40:             ->where('user_id', $this->user_contact['user_id'])
  41              ->orderBy('title_en')

app/Livewire/Work/Modify.php:
  24  
  25:     public string $user_id; // uuid
  26  

  47  
  48:         $this->user_id = Auth::id();
  49:         $this->user_contact = UserContact::where('user_id', Auth::id())->get()[0];
  50          $this->work = Work::findOrFail($wid);

app/Livewire/Work/Remove.php:
  50          $this->work_id = $this->work->id;
  51:         // TODO check user_id
  52:         $this->userId = $this->work->user_id;
  53  

app/Models/ContestAward.php:
   35   * @property string|null $winner_work_id fk: works.id
   36:  * @property string|null $winner_user_id fk: users.id user_contacts.user_id
   37   * @property string $winner_name winner not in previous cols

  165  
  166:     // contest_awards.winner_user_id > user_contacts.user_id
  167      public function userContact()
  168      {
  169:         $userContact = $this->belongsTo(UserContact::class, 'winner_user_id', 'user_id');
  170          return $userContact;

app/Models/ContestJury.php:
   26   * @property string $section_id fx: contest_section.id 1:N
   27:  * @property string $user_contact_id fx: user_contact.user_id
   28   * @property string $is_president N/Y flag

   62      protected $fillable = [
   63:         'id', //               pk but contest_juries.id IS NOT juror user_id
   64          'section_id', //       fk contest_sections.id
   65:         'user_contact_id', //  fk user_contacts.user_id juror
   66          'is_president', //     Y/N not boolean

  159              foreignKey: 'user_contact_id', // contest_juries.user_contact_id
  160:             ownerKey: 'user_id' //            user_contacts.user_id
  161          );

app/Models/ContestParticipant.php:
   16   * 1:1 contest_participants.contest_id > contests.id
   17:  * 1:1 contest_participants.user_id > user_contacts.user_id
   18   *

   33   * @property string $contest_id fk: contests.id
   34:  * @property string $user_id fk: user_contacts.user_id
   35   * @property string $fee_payment_completed N/Y flag

   83          'contest_id', //             fk contests.id
   84:         'user_id', //                fk user_contacts.user_id
   85          'fee_payment_completed', //  Y/N

  117          $results = ContestParticipant::query()
  118:             ->leftJoin('pcp_user_contacts', 'pcp_contest_participants.user_id', '=', 'pcp_user_contacts.user_id')
  119              ->where('contest_id', 'e8ac5674-c3d1-4afa-adaf-a7d5ed82d292')

  123                  'pcp_user_contacts.first_name',
  124:                 'pcp_user_contacts.user_id',
  125                  'pcp_contest_participants.fee_payment_completed'

  129              ->orderBy('pcp_user_contacts.first_name')
  130:             ->orderBy('pcp_user_contacts.user_id')
  131              ->get();

  157              ContestWork::class, //
  158:             'user_id', //           contests.user_id
  159:             'user_id' //            contest_works.user_id
  160          );

  168              ContestWork::class,
  169:             'user_id',
  170:             'user_id'
  171          );

  180              UserContact::class,
  181:             'user_id',
  182:             'user_id'
  183          );

  190      {
  191:         //                     user_contacts.user_id contest_participants.user_id
  192          $userContact = $this->belongsTo(
  193              UserContact::class,
  194:             'user_id',
  195:             'user_id'
  196          );

  203      {
  204:         //                       user_contact_mores.user_contact_user_id contest_participants.user_id
  205          $userContactMores = $this->hasMany(
  206              UserContactMore::class,
  207:             'user_id', //              contest_participants.user_id
  208              'user_contact_user_id' //  user_contact_mores.user_contact_user_id

  215      {
  216:         //                       user_contact_mores.user_contact_user_id contest_participants.user_id
  217          $userContactMores = $this->hasMany(
  218              UserContactMore::class,
  219:             'user_id',
  220              'user_contact_user_id'

app/Models/ContestVote.php:
   26   * @property string $work_id fk: works.id contest_works.work_id
   27:  * @property string $juror_user_id fk: user_contacts.user_id
   28   * @property string $vote see contests.vote_rule

  148      {
  149:         $userContact = $this->hasOne(UserContact::class, 'user_id', 'user_id');
  150          return $userContact;

app/Models/ContestWaiting.php:
   83          'section_id', //           fk contest_sections.id
   84:         'participant_user_id', //  fk user_contacts.user_id
   85          'work_id', //              fk contest_works.work_id

   88          'because', //              warning text
   89:         'organization_user_id', // fk user_contacts.user_id
   90          // created_at              reserved

  140      {
  141:         $participant = $this->hasOne(UserContact::class, 'user_id', 'participant_user_id');
  142          return $participant;

  149              related: UserContact::class,
  150:             foreignKey: 'user_id',
  151              ownerKey: 'organization_user_id'

app/Models/ContestWork.php:
   35   * @property string $country_id fk: user_contacts.country_id
   36:  * @property string $user_id fk: users.id
   37   * @property string $work_id fk: works.id

   92          'country_id', //      fk countries.id
   93:         'user_id', //         fk user_contacts.user_id
   94          'work_id', //         fk works.id

  149      {
  150:         $count = self::where('user_id', $userId)->where('section_id', $sectionId)->count();
  151          return $count;

  192      // participant user
  193:     // contest_works.user_id > user_contacts.user_id
  194      public function author(): BelongsTo
  195      {
  196:         $userContact = $this->belongsTo(UserContact::class, 'user_id', 'user_id');
  197  

  226       *
  227:      * @return UserContact contest_works.user_id user_contacts.user_id (actually not pk)
  228       */

  231      {
  232:         $contact = $this->hasOne(UserContact::class, 'user_id', 'user_id');
  233  

app/Models/User.php:
  142      // RELATIONSHIPS
  143:     // TODO most of that must be user_contacts.user_id >
  144  

  168  
  169:     // users.id > contest_participants.user_id
  170      public function contestParticipants()

  173              related: ContestParticipant::class,
  174:             foreignKey: 'user_id',
  175              localKey: 'id'

  212  
  213:     // users.id > contest_works.user_id
  214      public function contestWorks()

  217              related: ContestWork::class,
  218:             foreignKey: 'user_id',
  219              localKey: 'id'

  236  
  237:     // users.id > user_contacts.user_id
  238      public function contact()

  241              related: UserContact::class,
  242:             foreignKey: 'user_id',
  243              localKey: 'id'

  248  
  249:     // users.id > user_contacts.user_id
  250      public function userContact()

  253              related: UserContact::class,
  254:             foreignKey: 'user_id',
  255              localKey: 'id'

  260  
  261:     // users.id > user_roles.user_id
  262      public function roles()

  265              related: UserRole::class,
  266:             foreignKey: 'user_id',
  267              localKey: 'id'

  272  
  273:     // users.id > user_roles.user_id
  274      public function userRoles()

  277              related: UserRole::class,
  278:             foreignKey: 'user_id',
  279              localKey: 'id'

  296  
  297:     // users.id > works.user_id
  298      public function works()

app/Models/UserContact.php:
    7   *
    8:  * user_id as uuid() should be primary key also for user_contact
    9   * 2025-09-03 photo_box where store user works and passport_photo

   30   * @property int $id
   31:  * @property string $user_id fk: users.id uuid
   32   * @property string $country_id fk: countries.id

  123          'id', //               uuid
  124:         'user_id', //          fk users.id uuid
  125          'country_id', //       fk countries.id CHAR3UPPER

  152              'id' => 'string',
  153:             'user_id' => 'string',
  154              'country_id' => Country3Id::class,

  184       * @return the string used to store works and passport_photo
  185:      * Note: user_id to avoid homonymity
  186       */

  193              . Str::slug($this->first_name) . '_'
  194:             . Str::lower($this->user_id);
  195  

  206      {
  207:         $uc = self::where('user_id', $uid)->firstOrFail();
  208          // compose pb

  211              . Str::slug($uc->first_name) . '_'
  212:             . Str::lower($uc->user_id);
  213  

  223          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  224:         $user = self::where('user_id', $uid)->first();
  225  

  232          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  233:         $user = self::where('user_id', $uid)->first();
  234  

  241          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  242:         $user = self::where('user_id', $uid)->get('email')[0];
  243  

  250          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  251:         $user = self::where('user_id', $uid)->get('first_name')[0];
  252  

  259          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  260:         $user = self::where('user_id', $uid)->get('last_name')[0];
  261  

  268          Log::info('Model '.__CLASS__.' f/'.__FUNCTION__.':'.__LINE__.' called');
  269:         $user = self::where('user_id', $uid)->get('country_id')[0];
  270  

  275  
  276:     // user_contacts.user_id > contest_awards.winner_user_id
  277      public function contestAwards()

  281              foreignKey: 'winner_user_id',
  282:             localKey: 'user_id'
  283          );

  287  
  288:     // user_contacts.user_id > contest_juries.user_contact_id
  289      public function contestJurors()

  293              foreignKey: 'user_contact_id',
  294:             localKey: 'user_id'
  295          );

  304              foreignKey: 'user_contact_id',
  305:             localKey: 'user_id'
  306          );

  310  
  311:     // user_contacts.user_id > contest_participants.user_id
  312      public function contestParticipants()

  315              related: ContestParticipant::class,
  316:             foreignKey: 'user_id',
  317:             localKey: 'user_id'
  318          );

  322  
  323:     // user_contacts.user_id > contest_votes.juror_user_id
  324      public function contestVotesJuror()

  328              foreignKey: 'juror_user_id',
  329:             localKey: 'user_id'
  330          );

  334  
  335:     // user_contacts.user_id > contest_waitings.participant_user_id
  336      public function contestWaitingParticipants()

  340              foreignKey: 'participant_user_id',
  341:             localKey: 'user_id'
  342          );

  346  
  347:     // user_contacts.user_id > contest_waitings.organization_user_id
  348      public function contestWaitingOrganizations()

  352              foreignKey: 'organization_user_id',
  353:             localKey: 'user_id'
  354          );

  358  
  359:     // user_contacts.user_id > contest_works.user_id
  360      public function contestWorks()

  363              related: ContestWork::class,
  364:             foreignKey: 'user_id',
  365:             localKey: 'user_id'
  366          );

  381  
  382:     // user_contacts.user_id > user_contact_mores.user_contact_user_id
  383      public function contactMores()

  387              'user_contact_user_id',
  388:             'user_id'
  389          );

  394      // user_contacts.id > user_contacts.id
  395:     // user_contacts.user_id > user_contacts.user_id
  396  
  397:     // user_contacts.user_id > user_roles.user_id
  398      public function userRoles()

  401              related: UserRole::class,
  402:             foreignKey: 'user_id',
  403:             localKey: 'user_id'
  404          );

  408  
  409:     // user_contacts.user_id > users.id
  410      public function user()

  414              foreignKey: 'id',
  415:             ownerKey: 'user_id'
  416          );

  420  
  421:     // user_contacts.user_id > work_validations.validator_user_id
  422      public function workValidators()

  426              foreignKey: ' validator_user_id',
  427:             localKey: 'user_id'
  428          );

  432  
  433:     // contest_contacts.user_id > works.user_id
  434      public function userWorks()

  437              related: Work::class,
  438:             foreignKey: 'user_id',
  439:             localKey: 'user_id'
  440          );

app/Models/UserContactMore.php:
  79  
  80:     // user_contact_mores.user_contact_user_id > user_contacts.user_id
  81      public function userContact()

  84              related: UserContact::class,
  85:             foreignKey: 'user_id',
  86              ownerKey: 'user_contact_user_id'

app/Models/UserRole.php:
   23   * @property int $id
   24:  * @property string $user_id fk: users.id
   25   * @property string $role

   70          'id', //               pk bigint autoincrement
   71:         'user_id', //          fk user_contacts.user_id users.id
   72          'role', //             fk user_roles_role_sets.role

  119              UserContact::class,
  120:             'user_id',
  121:             'user_id'
  122          );

app/Models/Work.php:
   22   * @property string $id uuid
   23:  * @property string $user_id fk: users.id
   24   * @property string $work_file path n file

   73          'id', //            pk
   74:         'user_id', //       fk user_contacts.user_id, users.id
   75          'work_file', //     path+filename+extension

  132  
  133:     // works.user_id > user_contacts.user_id
  134      // was: user_contact

  138              UserContact::class,
  139:             'user_id',
  140:             'user_id'
  141          );

app/Models/WorkValidation.php:
   25   * @property int $federation_section_id fk: federation_sections.id
   26:  * @property string $validator_user_id fk: user_contacts.user_id
   27   * @property \Illuminate\Support\Carbon $created_at

   59          'federation_section_id', //  fk federation_sections.id
   60:         'validator_user_id', //      fk user_contacts.user_id
   61          // created_at                reserved

   82              related: Work::class,
   83:             foreignKey: 'user_id',
   84:             ownerKey: 'user_id'
   85          );

  102  
  103:     // work_validations.validator_user_id > user_contacts.user_id
  104      public function userValidator()

  107              related: UserContact::class,
  108:             foreignKey: 'user_id',
  109              ownerKey: 'validator_user_id'

app/Policies/ContestPaymentChangePolicy.php:
   6   * To modify fee_payment_completed
   7:  * - TODO if contest_participants.user_id === Auth::id()
   8   *   uploading receipt pdf

  38  
  39:     public string $user_id;
  40  

  79  
  80:         if ($user->id === $contest_participant->user_id) {
  81              Log::info(__CLASS__.' '.__FUNCTION__.':'.__LINE__.' ok 1');

  92  
  93:         $this->user_role = UserRole::where('user_id', $user->id)->whereNull('federation_id')
  94              ->whereNot('role', 'juror')->get();

app/Policies/JurorOnlyPolicy.php:
  26          Log::info('Policies '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' called');
  27:         $user_id = Auth::id();
  28:         $access_granted = ContestJury::where('section_id', $section_id)->where('user_contact_id', $user_id)->count(); // 1 | 0
  29:         Log::info('Policies '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' res:'.$access_granted.' for user:'.$user_id);
  30  

app/Policies/OrganizationMemberOnlyPolicy.php:
  26          Log::info('Policies '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' called');
  27:         $user_id = Auth::id();
  28  
  29:         $access_granted = UserRole::where('organization_id', $organization_id)->where('user_id', $user_id)->count(); // 1 | 0
  30:         Log::info('Policies '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' res:'.$access_granted.' for user:'.$user_id);
  31  

app/Rules/UserInContest.php:
   3  /**
   4:  * check if a user_id and a contest_id live in the same record
   5   * into contest_awards table

   8   * 1st call with contest_id to memorize in session()
   9:  * 2nd call with user_id to check both
  10   */

  25  
  26:     public $user_id;
  27  

  50              $check = ContestParticipant::where('contest_id', $this->contest_id)
  51:                 ->where('user_id', $value)->count();
  52              if ($check === 0) {

database/factories/UserContactFactory.php:
  46              'id' => $user->id,
  47:             'user_id' => $user->id, // TODO remove       fk users.id
  48              'country_id' => $country->id, //             fk countries.id

database/factories/UserRoleFactory.php:
  54              // id
  55:             'user_id' => $user->id,
  56              'role' => UserRole::validRoles[$role],

database/factories/UserWorkFactory.php:
  26              'id' => $photoId, // image user work id
  27:             'user_id' => $user->user_id,
  28              'work_file' => $photoBox . '/' . $photoId . '.jpg',

database/factories/WorkFactory.php:
  32              'id' => Str::uuid(),
  33:             'user_id' => $user_contact->user_id,
  34              'work_file' => fake()->imageUrl(1920, 1080, null, false, null, false, 'jpg'), // TODO correct it

database/migrations/2026_02_01_000003_create_sessions_table.php:
  14              $table->string('id')->primary();
  15:             $table->char('user_id', 36)
  16                  ->charset('ascii')->collation('ascii_general_ci')

database/migrations/2026_02_04_000003_create_user_roles_table.php:
  14              $table->id();
  15:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')
  16                  ->index()->comment('fk: user_contacts.id');

  42                  [
  43:                 'user_id',
  44                  'organization_id',

database/migrations/2026_02_05_000003_create_user_works_table.php:
  20                  ->primary()->comments('author works depot id');
  21:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')
  22                  ->index()->comments('fk. user_contacts.id');

  40  
  41:             $table->foreign(['user_id'])->references(['id'])->on('user_contacts')
  42                  ->onUpdate('restrict')->onDelete('restrict');

database/migrations/2026_02_05_000005_create_user_contact_mores_table.php:
  19              $table->id()->comment('real pk is user_contact_id n federation_id n field_name');
  20:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')
  21                  ->comment('fk for user_contact id');

  32              // idx
  33:             $table->unique(['user_id', 'federation_id', 'field_name'], 'alt_primary_idx');
  34              $table->index(['federation_id', 'field_name'], 'federation_idx');
  35              // fk
  36:             $table->foreign(['user_id'])->references(['id'])->on('user_contacts')
  37                  ->onUpdate('restrict')->onDelete('restrict');

database/migrations/2026_02_05_000006_create_contest_juries_table.php:
  14              $table->uuid('id')->charset('ascii')->collation('ascii_general_ci')
  15:                 ->primary()->comment('reak pk section_id + juror user_id');
  16              $table->char('contest_id', 36)->charset('ascii')->collation('ascii_general_ci')

  19                  ->index()->comment('fk: contest_sections.id');
  20:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')
  21                  ->index()->comment('fk: user_contacts.id - juror');

  28              // idx
  29:             $table->unique(['section_id', 'user_id'], 'general_idx');
  30              // fk

  34                  ->onUpdate('restrict')->onDelete('restrict');
  35:             $table->foreign(['user_id'])->references(['id'])->on('user_contacts')
  36                  ->onUpdate('restrict')->onDelete('restrict');

database/migrations/2026_02_05_000007_create_contest_works_table.php:
   6   * - section_id must be related to contest_id
   7:  * - country_id is a facility must be user_id->country_id
   8:  * - work_id must be property of user_id
   9   * - extension is a facility must be user_work->extension

  28                  ->index()->comment('fk: countries.id ');
  29:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')
  30                  ->index()->comment('fk:user_contacts.id author');

  46              $table->index(['section_id', 'is_admit', 'work_id'], 'admit_idx');
  47:             $table->index(['contest_id', 'country_id', 'user_id', 'section_id', 'work_id', 'id'], 'catalogue_idx');
  48:             $table->index(['contest_id', 'section_id', 'country_id', 'user_id', 'work_id', 'id'], 'contest_idx');
  49              $table->index(['work_id', 'section_id', 'contest_id'], 'contest_works_idx');
  50:             $table->unique(['user_id', 'contest_id', 'section_id', 'portfolio_sequence', 'work_id', 'deleted_at'], 'sequence_idx');
  51:             $table->index(['user_id', 'section_id', 'contest_id', 'portfolio_sequence'], 'user_contests_idx');
  52              //

  58                  ->onUpdate('restrict')->onDelete('restrict');
  59:             $table->foreign(['user_id'])->references(['id'])->on('user_contacts')
  60                  ->onUpdate('restrict')->onDelete('restrict');

database/migrations/2026_02_05_000009_create_contest_participants_table.php:
  15              $table->char('contest_id', 36)->charset('ascii')->collation('ascii_general_ci')->index();
  16:             $table->char('user_id', 36)->charset('ascii')->collation('ascii_general_ci')->index();
  17              $table->boolean('fee_payment_completed')->default(false)->index()

  23              //
  24:             $table->index(['contest_id', 'user_id'], 'contest_idx');
  25:             $table->index(['user_id', 'contest_id'], 'user_idx');
  26              //

  28                  ->onUpdate('restrict')->onDelete('restrict');
  29:             $table->foreign(['user_id'])->references(['user_id'])->on('user_contacts')
  30                  ->onUpdate('restrict')->onDelete('restrict');

database/migrations/2026_02_05_000012_create_contest_votes_table.php:
  47                  ->onUpdate('restrict')->onDelete('restrict');
  48:             $table->foreign(['juror_user_id'])->references(['user_id'])->on('user_contacts')
  49                  ->onUpdate('restrict')->onDelete('restrict');

database/seeders/ContestChargerSeeder.php:
   83  
   84:         // 4. user_id in user_roles
   85:         $this->user_in_user_role = DB::table(UserRole::TABLENAME)->get('user_id');
   86          Log::info('Seeder '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' user_role_in:'.json_encode($this->user_in_user_role));

   89          $this->excluded_ids = [];
   90:         foreach ($this->user_in_user_role as $key => $user_id) {
   91:             $this->excluded_ids[] = $user_id;
   92          }
   93          // 4.b already in
   94:         $this->user_in_contest = ContestParticipant::select('user_id')->where('contest_id', $this->opened_contest->id)->get();
   95          Log::info('Seeder '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' already_in:'.($this->user_in_contest));
   96          // from collection to array - old way
   97:         foreach ($this->user_in_user_role as $key => $user_id) {
   98:             $this->excluded_ids[] = $user_id;
   99          }

  115              // excluded_ids is user already in + user in user_roles
  116:             if (in_array($this->work_participant->user_id, $this->excluded_ids)) {
  117:                 Log::info('Seeder '.__CLASS__.' f:'.__FUNCTION__.' l:'.__LINE__.' out:'.json_encode($this->work_participant->user_id));
  118  

  125                  'contest_id' => $this->opened_contest->id,
  126:                 'user_id' => $this->work_participant->user_id,
  127                  'fee_payment_completed' => 'Y',

  163                          'country_id' => $this->work_participant->country_id,
  164:                         'user_id' => $this->work_participant->user_id,
  165                          'work_id' => $this->work->id,

database/seeders/ParticipantSeeder.php:
   69  
   70:         $this->user_contact = UserContact::where('user_id', $this->user->id)->first();
   71          $this->user_contact->update([

   89              $this->work = Work::factory()->create([
   90:                 'user_id' => $this->user_contact->user_id,
   91                  'work_file' => '',

   99              $this->file_to = 'photos/'.$this->user_contact->country_id.'/'.$this->user_contact->last_name
  100:             .'/'.$this->user_contact->first_name.'_'.$this->user_contact->user_id
  101              .'/'.$this->work_id.'.jpg';

database/seeders/UserContactSeeder.php:
  21              Log::info('Seeder '.__CLASS__.' '.__FUNCTION__.':'.__LINE__.' SRC id:'.$user->id.' name:'.$user->name);
  22:             if (UserContact::where('user_id', $user->id)->count() > 0) {
  23                  Log::info('Seeder '.__CLASS__.' '.__FUNCTION__.':'.__LINE__.' FND id:'.$user->id);

  28              UserContact::create([
  29:                 'user_id' => $user->id,
  30                  'first_name' => $user->name,

resources/views/livewire/contest/subscribe.blade.php:
   6   *
   7:  * user_id from Auth::id()
   8   * contest_id from route()

  34          @foreach($contest_section_list as $section)
  35:         <p class="inline-flex small">[ {{$section->code}} your:{{ ContestWork::sectionWorksCounter($section->id, $user_id) }} / {{$section->rule_max}}]</p>
  36          @endforeach

resources/views/livewire/contest/participants/listed.blade.php:
  63                          @foreach($contest_section_list as $section)
  64:                         [{{$section->code}}: {{ ContestWork::sectionWorksCounter($section->id, $participant['user_id']) }} / {{$section->rule_max}}] 
  65                          &nbsp;

resources/views/livewire/contest/participants/modify.blade.php:
   83                          @if( ($participant['fee_payment_completed'] === 'N') )
   84:                             @can('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )
   85:                                 @livewire('contest.participants.complete',  ['data_json' => json_encode(['contest_id' => $contest->id, 'participant_id' => $participant['user_id'], 'fee_payment_completed' => $participant['fee_payment_completed'] ] ) ] )
   86                              @endcan
   87:                             @cannot('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )
   88                                  {{ __("ðŸŸ¨ Waiting payment receipt") }}

   90                          @else
   91:                             @can('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )
   92:                                 @livewire('contest.participants.remove',  ['data_json' => json_encode(['contest_id' => $contest->id, 'participant_id' => $participant['user_id'], 'fee_payment_completed' => $participant['fee_payment_completed'] ] ) ] )
   93                              @endcan
   94:                             @cannot('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )
   95                                  {{ __("âœ… Completed") }}

  100                          @foreach($contest_section_list as $section)
  101:                         [{{$section->code}}: {{ ContestWork::sectionWorksCounter($section->id, $participant['user_id']) }} / {{$section->rule_max}}] 
  102                          &nbsp;

resources/views/livewire/organization/dashboard.blade.php:
  66                  <li class="fyk mb-4 p-4 border rounded-md">
  67:                     <strong class="fyk text-xl">{{ UserContact::getFirstLastName( $user_role->user_id ) }}, {{$user_role->role}}</strong>
  68                  </li>

resources/views/livewire/organization/award/contest-award-assign.blade.php:
  20              @foreach ($awarded_peoples as $winner)
  21:             <option value="{{$winner->user_id}}"><code> {{ $winner->flag_code }} {{ $winner->country_id }} {{ $winner->last_name }}, {{ $winner->first_name }} </code></option>
  22              @endforeach

resources/views/livewire/user/contact/modify.blade.php:
  37          </div>
  38:         <div class="mb-4" data-yapcp="user_id">
  39:             <label class="border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm block mt-1 w-full" for="user_id">
  40                  {{ __('yaPCP assigned ID') }} | ðŸ”’

  43                  class="text-sm border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm block mt-1 w-full" 
  44:                 type="text" name="user_id" 
  45:                 wire:model.fill="user_id"
  46                  readonly

  48              <div class="small" id="cellularHelp">{{ __("Your ID in yaPCP") }}</div>
  49:             <div class="alert alert-danger small">@error('user_id') {{ $message }} @enderror</div>
  50          </div>

resources/views/livewire/work/modify.blade.php:
  27          <!-- work_id -->
  28:         <!-- user_id -->
  29  

resources/views/livewire/work/remove.blade.php:
  24          <!-- work_id -->
  25:         <!-- user_id -->
  26  

storage/framework/views/1c9219fa26ec64033b8884720b9904f2.php:
  20              <?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php $__currentLoopData = $awarded_peoples; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $winner): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
  21:             <option value="<?php echo e($winner->user_id); ?>"><code> <?php echo e($winner->flag_code); ?> <?php echo e($winner->country_id); ?> <?php echo e($winner->last_name); ?>, <?php echo e($winner->first_name); ?> </code></option>
  22              <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?><?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if ENDBLOCK]><![endif]--><?php endif; ?>

storage/framework/views/4e843dc4c9552e90133b28b9230c1fbe.php:
  68                  <li class="fyk mb-4 p-4 border rounded-md">
  69:                     <strong class="fyk text-xl"><?php echo e(UserContact::getFirstLastName( $user_role->user_id )); ?>, <?php echo e($user_role->role); ?></strong>
  70                  </li>

storage/framework/views/40dcd3de2c16d29a05d6024da0233cc3.php:
   78                          <?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php if( ($participant['fee_payment_completed'] === 'N') ): ?>
   79:                             <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )): ?>
   80                                  <?php

   83  };
   84: [$__name, $__params] = $__split('contest.participants.complete',  ['data_json' => json_encode(['contest_id' => $contest->id, 'participant_id' => $participant['user_id'], 'fee_payment_completed' => $participant['fee_payment_completed'] ] ) ]);
   85  

  100                              <?php endif; ?>
  101:                             <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->denies('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )): ?>
  102                                  <?php echo e(__("ðŸŸ¨ Waiting payment receipt")); ?>

  105                          <?php else: ?>
  106:                             <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->check('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )): ?>
  107                                  <?php

  110  };
  111: [$__name, $__params] = $__split('contest.participants.remove',  ['data_json' => json_encode(['contest_id' => $contest->id, 'participant_id' => $participant['user_id'], 'fee_payment_completed' => $participant['fee_payment_completed'] ] ) ]);
  112  

  127                              <?php endif; ?>
  128:                             <?php if (app(\Illuminate\Contracts\Auth\Access\Gate::class)->denies('contest-participants-update', ContestParticipant::where('user_id', $participant['user_id'])->get()[0] )): ?>
  129                                  <?php echo e(__("âœ… Completed")); ?>

  135                          <?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php $__currentLoopData = $contest_section_list; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $section): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
  136:                         [<?php echo e($section->code); ?>: <?php echo e(ContestWork::sectionWorksCounter($section->id, $participant['user_id'])); ?> / <?php echo e($section->rule_max); ?>] 
  137                          &nbsp;

storage/framework/views/0957de2020e3301a7bc5f97075bf37bc.php:
  28          <!-- work_id -->
  29:         <!-- user_id -->
  30  

storage/framework/views/44832bbf5b384c656de5befe4af41e3a.php:
  62                          <?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php $__currentLoopData = $contest_section_list; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $section): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
  63:                         [<?php echo e($section->code); ?>: <?php echo e(ContestWork::sectionWorksCounter($section->id, $participant['user_id'])); ?> / <?php echo e($section->rule_max); ?>] 
  64                          &nbsp;

storage/framework/views/a32dbc0823891da6697f9a31c0bdd10d.php:
  44          </div>
  45:         <div class="mb-4" data-yapcp="user_id">
  46:             <label class="border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm block mt-1 w-full" for="user_id">
  47                  <?php echo e(__('yaPCP assigned ID')); ?> | ðŸ”’

  50                  class="text-sm border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm block mt-1 w-full" 
  51:                 type="text" name="user_id" 
  52:                 wire:model.fill="user_id"
  53                  readonly

  55              <div class="small" id="cellularHelp"><?php echo e(__("Your ID in yaPCP")); ?></div>
  56:             <div class="alert alert-danger small"><?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php $__errorArgs = ['user_id'];
  57  $__bag = $errors->getBag($__errorArgs[1] ?? 'default');

storage/framework/views/bee13cd69f5f59031038a5d342cc19fb.php:
  25          <?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if BLOCK]><![endif]--><?php endif; ?><?php $__currentLoopData = $contest_section_list; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $section): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
  26:         <p class="inline-flex small">[ <?php echo e($section->code); ?> your:<?php echo e(ContestWork::sectionWorksCounter($section->id, $user_id)); ?> / <?php echo e($section->rule_max); ?>]</p>
  27          <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?><?php if(\Livewire\Mechanisms\ExtendBlade\ExtendBlade::isRenderingLivewireComponent()): ?><!--[if ENDBLOCK]><![endif]--><?php endif; ?>

storage/framework/views/d8fdd0aa5e69c4fd62b1767968a94ddd.php:
  25          <!-- work_id -->
  26:         <!-- user_id -->
  27  
