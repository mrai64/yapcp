# Diario dello sviluppatore, data 19 settembre 2025

Nav: [index](../index.md) : [TDL](../TDL.md) : [log](../../storage/logs/laravel.log)

## Gestione degli orari time_zone timezone segue

Regole dal gruppo Laravel Italia

* Usare sempre in db solo orari UTC , se il mysql è configurato ok, quando registro un orario del fuso di Roma + ora legale devo vedere 2 ore di differenza con il dato memorizzato in archivio, ed è giusto così.
* Tenere conto che ogni tanto esiste il 23:59:60 a fine anno per regolare gli orologi
* regolare l'orologio sul timezone solo per esposizione dato. prevedere i campi con il fuso orario -12:00 +12:00 (sono altri 6 caratteri)
* Non si possono impostare funzioni per calcolare il default() per un campo datetime

Mysql e altri dbms nel campo *datetime* registrano quello che arriva ed espongono quello che arriva, senza fare calcoli e conversioni di timezone  

`SELECT @@GLOBAL.time_zone, @@SESSION.time_zone;`  
In mysql la risposta è: SYSTEM, SYSTEM. Significa che viene applicato il fuso orario di Roma? Pare che sia così.

Model TimeZoneList, lo tengo anche se scopro che è incorporato in php  
[https://www.php.net/manual/en/datetimezone.listidentifiers.php](https://www.php.net/manual/en/datetimezone.listidentifiers.php)

Se voglio registrare un datetime sarà `2025-09-19T11:38:45`,  
Se voglio registrare un datetime con timezone sarà `2025-09-19T11:38:45+02:00`,  
solo 6 byte in più come stringa. Poi però devo convertire questo numero in un
orario leggibile e in un campo editabile senza difficoltà. La timezone può essere
un dato immutabile dell'utente, oppure va messo nella scheda del concorso?
Per ora ho scelto la seconda opzione, quindi il mio campo nel modulo
sarà `2025-09-19T11:38:45`, il campo timezone sarà `Europe/Rome`,
e devo arrivare a `2025-09-19T11:38:45+02:00`.

### DateTimeZone from php 8.4

[https://www.php.net/manual/it/class.datetimezone.php](https://www.php.net/manual/it/class.datetimezone.php)  
Consente di avere la lista dei timezone senza memorizzarla in array,
ma di fatto il Model [TimezoneList](/app/Models/TimezonesList.php)
serve lo stesso perché contiene il validator is_
