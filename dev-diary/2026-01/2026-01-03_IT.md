# Diario dello sviluppatore, data 3 gennaio 2026

* [index](../index.md) |
  [project](https://github.com/users/mrai64/projects/1/views/1?filterQuery=is%3Aopen&sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Title) issue list |
  [To Do List](../TDL.md) svuotato  

* [Route](/routes/web.php)

* [◀️ Diario di ieri](./2026-01-02_IT.md)

* run <http://yapcp.test/>
* User Doc <http://yapcp.test/docs/1.0/> [index](/resources/docs/1.0/index.md)
* [log](/storage/logs/laravel-2026-01-03.log)  | ngnix log  `open ~/Library/Application\ Support/Herd/Log`  `open ./storage/logs/`

## Today Do list

* generazione report excel delle federazioni
* documentazione per censimento organizzazioni e federazioni

## Export Federation report as excel download [Issue #90](https://github.com/mrai64/yapcp/issues/90)

Si tratta di creare una blade per riempire un foglio di excel
che si può usare "come viene viene" oppure importare come dati in un
foglio excel più sofisticato per valori e verifiche.

Partendo dalla federazione FIAF questa richiede delle cose aggiuntive
sul nome del file, ovvero oltre che chiedere cose aggiuntive
per i dati dell'utente serve anche un contest_works_more
forse solo per la FIAF. Facendo una *inutile polemica che
resta solo qui*, per tutti i concorsi a patrocinio federale
tutte le foto ammesse vengono inviate alla commissione controllo
concorsi, tutte, e come gestiscono l'archivio lo sa solo
la commissione. Non sono in grado di rilevare per lo stesso autore
in anni successivi, quando la foto compare. Quando se ne
occupava (di fatto da solo) Piero Sbrana c'era una cartella
annuale con tutti i file: una cinquantina di concorsi per un
centinaio d foto a concorso, nominate perbene consentivano un
controllo a nome e a vista degli sbagli.

Primo passo: creare un file excel "vuoto"

```sh
$ composer update
Loading composer repositories with package information
Updating dependencies
Lock file operations: 0 installs, 13 updates, 0 removals
  - Upgrading graham-campbell/result-type (v1.1.3 => v1.1.4)
  - Upgrading monolog/monolog (3.9.0 => 3.10.0)
  - Upgrading phpoption/phpoption (1.9.4 => 1.9.5)
  - Upgrading symfony/console (v7.4.1 => v7.4.3)
  - Upgrading symfony/finder (v7.4.0 => v7.4.3)
  - Upgrading symfony/http-foundation (v7.4.1 => v7.4.3)
  - Upgrading symfony/http-kernel (v7.4.2 => v7.4.3)
  - Upgrading symfony/mailer (v7.4.0 => v7.4.3)
  - Upgrading symfony/process (v7.4.0 => v7.4.3)
  - Upgrading symfony/routing (v7.4.0 => v7.4.3)
  - Upgrading symfony/translation (v8.0.1 => v8.0.3)
  - Upgrading symfony/var-dumper (v7.4.0 => v7.4.3)
  - Upgrading vlucas/phpdotenv (v5.6.2 => v5.6.3)
Writing lock file
Installing dependencies from lock file (including require-dev)
Package operations: 0 installs, 13 updates, 0 removals
  - Downloading symfony/finder (v7.4.3)
  - Downloading symfony/var-dumper (v7.4.3)
  - Downloading phpoption/phpoption (1.9.5)
  - Downloading graham-campbell/result-type (v1.1.4)
  - Downloading vlucas/phpdotenv (v5.6.3)
  - Downloading symfony/routing (v7.4.3)
  - Downloading symfony/process (v7.4.3)
  - Downloading symfony/mailer (v7.4.3)
  - Downloading symfony/http-foundation (v7.4.3)
  - Downloading symfony/http-kernel (v7.4.3)
  - Downloading symfony/console (v7.4.3)
  - Downloading symfony/translation (v8.0.3)
  - Downloading monolog/monolog (3.10.0)
  4/13 [========>-------------------]  30%    Failed to download symfony/translation from dist: The "https://codeload.github.com/symfony/translation/legacy.zip/60a8f11f0e15c48f2cc47c4da53873bb5b62135d" file could not be downloaded (HTTP/2 429 )
    Now trying to download from source
  - Syncing symfony/translation (v8.0.3) into cache
    Failed to download monolog/monolog from dist: The "https://codeload.github.com/Seldaek/monolog/legacy.zip/b321dd6749f0bf7189444158a3ce785cc16d69b0" file could not be downloaded (HTTP/2 429 )
    Now trying to download from source
  - Syncing monolog/monolog (3.10.0) into cache
  - Upgrading symfony/finder (v7.4.0 => v7.4.3): Extracting archive
  - Upgrading symfony/var-dumper (v7.4.0 => v7.4.3): Extracting archive
  - Upgrading phpoption/phpoption (1.9.4 => 1.9.5): Extracting archive
  - Upgrading graham-campbell/result-type (v1.1.3 => v1.1.4): Extracting archive
  - Upgrading vlucas/phpdotenv (v5.6.2 => v5.6.3): Extracting archive
  - Upgrading symfony/routing (v7.4.0 => v7.4.3): Extracting archive
  - Upgrading symfony/process (v7.4.0 => v7.4.3): Extracting archive
  - Upgrading symfony/mailer (v7.4.0 => v7.4.3): Extracting archive
  - Upgrading symfony/http-foundation (v7.4.1 => v7.4.3): Extracting archive
  - Upgrading symfony/http-kernel (v7.4.2 => v7.4.3): Extracting archive
  - Upgrading symfony/console (v7.4.1 => v7.4.3): Extracting archive
  - Removing symfony/translation (v8.0.1)
  - Removing monolog/monolog (3.9.0)
  7/13 [===============>------------]  53%  - Installing symfony/translation (v8.0.3): Cloning 60a8f11f0e from cache
  - Installing monolog/monolog (3.10.0): Cloning b321dd6749 from cache
Generating optimized autoload files
> @php artisan config:clear

   INFO  Configuration cache cleared successfully.  

> @php artisan clear-compiled

   INFO  Compiled services and packages files removed successfully.  

> @php artisan package:discover --ansi

   INFO  Discovering packages.  

  barryvdh/laravel-debugbar ................................................................ DONE
  binarytorch/larecipe ..................................................................... DONE
  laradumps/laradumps ...................................................................... DONE
  laravel/breeze ........................................................................... DONE
  laravel/pail ............................................................................. DONE
  laravel/sail ............................................................................. DONE
  laravel/tinker ........................................................................... DONE
  livewire/livewire ........................................................................ DONE
  livewire/volt ............................................................................ DONE
  maatwebsite/excel ........................................................................ DONE
  nesbot/carbon ............................................................................ DONE
  nunomaduro/collision ..................................................................... DONE
  nunomaduro/termwind ...................................................................... DONE
  phiki/phiki .............................................................................. DONE
  robertogallea/laravel-codicefiscale ...................................................... DONE
  spatie/laravel-pdf ....................................................................... DONE

99 packages you are using are looking for funding.
Use the `composer fund` command to find out more!
> @php artisan vendor:publish --tag=laravel-assets --ansi --force

   INFO  No publishable resources for tag [laravel-assets].  

No security vulnerability advisories found.
```

A parte qualche errore il package scaricato è maatwebsite/excel  
Facendo una ricerca su gihtub, con i soli termini excel e laravel e selezionando php come linguaggio, viene fuori che c'è qualcuno di più famoso e aggiornato

SpartnerNL/Laravel-Excel
Excel exports and imports in Laravel.

Mentre, aggiornato lo scorso 16 maggio
lo stesso gruppo/ditta ha
SpartnerNL/Laravel-Nova_Excel

Alla fine sono loro. Laravel Nova è un progetto vecchio.

### Creare un "Export"

Il primo esempio può essere esportare tutti gli user che hanno
partecipato al concorso, in formato FIAF

```sh
$ php artisan make:export FIAF1Participant --model=ContestParticipants

   INFO  Export [app/Exports/FIAF1Participant.php] created successfully.  
```

Questo crea un dataset che può essere usato nel controller, però
il controller viene richiamato dalla contest dashboard, giusto?
deve prevedere una view o fare solo il file da download
e restare nella contest dashboard?

```sh
$ php artisan make:export FIAF1Participant --model=ContestParticipants

   INFO  Export [app/Exports/FIAF1Participant.php] created successfully.  
```

```sh
$ php artisan make:controller Contest/Report/Fiaf1Participants --invokable

   INFO  Controller [app/Http/Controllers/Contest/Report/Fiaf1Participants.php] created successfully.  
```

L'ultimo parametro serve solo a creare una funzione invoke()
che si può tranquillamente eliminare
<https://yapcp.test/organization/contest/reports/e8ac5674-c3d1-4afa-adaf-a7d5ed82d292>

Anche se pare sia tutto giusto, facendo la creazione
di un export e di un controller, quando clicco non ottengo
nessun risultato. E nessun messaggio di errore.
pare sia tutto giusto ma non fa niente. NON è tutto giusto.

Ooo cappa, rifatto passo passo adesso salva. Esce un
foglio excel in cui sono presenti solo i dati,
senza intestazioni.
Adesso avanti, lo step successivo consente di definire
il formato di scarico o eseguirlo in uno spazio tipo
amazon s3.

Si può anche salare il vile nella cartella dei
concorsi, o del concorso.
