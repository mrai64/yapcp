# Chiedi a Gemini del 17 gennaio 2026

## Domanda 1

Laravel tabella contest_awards ha il campo is_award, nel modello l'array $fillable ha 'is_award', ma lo standard PSR-12 vuole che il campo si chiami in camelCase isAward. Dove lo definisco il nome del campo nel Model?

## Risposta 1

Capisco perfettamente il dilemma: vuoi mantenere il codice pulito seguendo gli standard PSR-12, ma il database utilizza la convenzione *snake_case* (tipica di Laravel).

In Laravel, **non devi rinominare la colonna nel database** per forzare il camelCase nel codice. Il framework gestisce internamente la mappatura tra gli attributi del modello e le colonne della tabella.

Tuttavia, se desideri che il tuo modello esponga e accetti `isAward` invece di `is_award`, puoi utilizzare gli **Accessor** e i **Mutator** (Attribute Casting).

Ecco come risolvere in modo elegante:

---

### 1. Utilizzare i nuovi "Attribute" (Laravel 9+)

Il modo più moderno e pulito per mappare `is_award` su `isAward` è definire un metodo nel modello che faccia da "ponte".

```php
use Illuminate\Database\Eloquent\Casts\Attribute;

protected function isAward(): Attribute
{
    return Attribute::make(
        get: fn ($value, $attributes) => $attributes['is_award'],
        set: fn ($value) => ['is_award' => $value],
    );
}

```

### 2. Gestione del `$fillable`

Se decidi di usare questa mappatura, dovrai comunque fare attenzione a cosa passi nel metodo `create` o `update`.

* Se passi `['isAward' => true]`, Laravel cercherà la colonna `isAward` a meno che tu non abbia definito il Mutator sopra.
* Il consiglio standard di Laravel è mantenere i nomi delle colonne nel `$fillable` identici a quelli del database:
`protected $fillable = ['is_award', ...];`

### 3. La nota sullo Standard PSR-12

È importante fare una piccola distinzione tecnica:

* **PSR-12** si riferisce principalmente alla formattazione del codice (parentesi, spazi, nomi dei metodi in `camelCase`, nomi delle classi in `StudlyCaps`).
* Le **proprietà dei modelli Eloquent** sono considerate "proprietà magiche". In Laravel, la convenzione della community è quella di mantenere le proprietà del modello in **snake_case** se così sono scritte nel database, per evitare confusione e overhead di mappatura.

---

### Cosa ti consiglio di fare?

Se il tuo obiettivo è la massima coerenza con lo stile "Laravel-way", ti suggerisco di:

1. Mantenere `is_award` nel database e nel `$fillable`.
2. Utilizzare l'**Attribute** (punto 1) se hai assoluta necessità di chiamarlo `isAward` nel resto dell'applicazione.

**Vuoi che ti aiuti a scrivere una migrazione per rinominare la colonna nel database, oppure preferisci approfondire come nascondere il campo originale nei file JSON?**
