# Diario dello sviluppatore, data 28 dicembre 2025

* [index](../index.md) |
  [project](https://github.com/users/mrai64/projects/1/views/1?filterQuery=is%3Aopen&sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Title) issue list |
  [To Do List](../TDL.md) svuotato  

* [Route](/routes/web.php)

* [‚óÄÔ∏è Diario di ieri](./2025-12-27_IT.md)

* run <http://yapcp.test/>
* User Doc <http://yapcp.test/docs/1.0/>
* [log](/storage/logs/laravel-2025-12-28.log) | ngnix log  `open ~/Library/Application\ Support/Herd/Log`

## Today Do list

* üöß Refactor user_contacts modify

Siamo al punto che per completare il foglio Excel della federazione
serve aggiungere ai concorrenti *il campo richiesto* dalla federazione,
e quindi passiamo per il modulo modifica di user_contacts.

<https://youtu.be/1j36z_MZsUg?si=sCij4hcwnfTKKkjk>
Per creare il modulo multi step serve **creare n moduli manualmente**
in cui chiedere ad ogni modulo un blocco di dati con la loro validazione,
e fare il gestore dei moduli fino all‚Äôultimo che convalida i dati.  
Questo per **inserire** dati.  
Io invece i dati li devo modificare, perch√© quando viene creato un nuovo
utente users c'√® un trigger per creare anche il record user_contacts.
I default, magari vuoti, ci sono gi√†.
E quindi niente, per modulo multi step non serve inventare, spacchetto e basta.
La tabella usercontact pu√≤ avere un pannello readonly
Con abbinati n pulsanti modifica, e ognuno va per conto suo.
Ad un certo punto devo saltare fuori con le richieste aggiuntive,
E dove? Per i concorrenti italiani salta fuori la federazione italiana
Che richiede il codice fiscale e il numero tessera.
Valori predefiniti dove li memorizzo? In federations additional field.
Serve creare un migration add field default value mentre il campo pu√≤ essere facoltativo anche in assenza di una colonna nullable_field tinynt 0/1.

To do list
- [ ] Rimuovere blade e controller di add e remove. Saranno tutti moduli di modifica con input uuid.
- [ ] Creare il blade per mostrare tutti i dati compresi quelli delle federations, se presenti.
- [ ] Aggiungere I field set che contengono i campi da modificare. Una valida UI farebbe scambiare il gruppo dei campi in vista con il form della modifica.
- [ ] Barra di navigazione, in testata ma come?

## User Contact Modify

[Modify Livewire](/app/Livewire/User/Contact/Modify.php)
[blade](/resources/views/livewire/user/contact/modify.blade.php)

Il modulo **funzionava**, e adesso il country_id ha un comportamento anomalo,
bon che assegna Zimbawe l'ultimo della lista come nazione,
ma quando si sceglie Italy dovrebbe mantenerlo.

La situa sfugge. Mi trovo che la tabella users ha un trigger
sull'operazione di insert/after. E mi crea un record user_contacts.
Ok. Questo √® buono e giusto. Sono ribaltati in user_contacts
i dati di uuid, nome (nome), cognome (nome), email.

In user_contacts devo creare un trigger che se viene cambiato
l'indirizzo email va ribaltato sulla tabella users.
[Chiedi a Gemini 1](./2025-12-28_gemini_say_1.md)

<http://yapcp.test/user/contact/listed>