# Diario dello sviluppatore, data 29 dicembre 2025

* [index](../index.md) |
  [project](https://github.com/users/mrai64/projects/1/views/1?filterQuery=is%3Aopen&sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Title) issue list |
  [To Do List](../TDL.md) svuotato  

* [Route](/routes/web.php)

* [‚óÄÔ∏è Diario di ieri](./2025-12-28_IT.md)

* run <http://yapcp.test/>
* User Doc <http://yapcp.test/docs/1.0/> [index](/resources/docs/1.0/index.md)
* [log](/storage/logs/laravel-2025-12-29.log) | ngnix log  `open ~/Library/Application\ Support/Herd/Log`

## Today Do list

* ‚úÖ Spedizione reso amazon
* ‚úÖ Sistemazione docs
* ‚úÖ Continuare lo sviluppo dei moduli per user_contacts
* üöß Documentazione pannelli
* üöß Aggiungere alla tabella delle definizioni dei campi per le aggiunte richieste dalle federazioni due colonne per il valore predefinito

### Aggiunta "default" alla tabella federation_additional_fields

Momento di confusione:  
la tabella con i campi aggiuntivi attualmente si chiama federation_additionals,
potrebbe chiamarsi user_additional_fields.  
la tabella con le definizioni dei campi da mettere come si chiama?  
federation_additional_fields üü• No, sbagliato.  
Si chiama federation_additional_field_names.

Stanotte avevo pensato di inserire una colonna default e una colonna
nullable, tuttavia sto escogitando che se il campo manca e serve
lo si pesca dalla definizione come default. Cos√¨ evito di aggiungerlo
a tutti gli user_contacts. Che sarebbe alla fine tanto quanto aggiungere tutte
le colonne di campi richiesti alla tabella user_contacts.

Il default della colonna default non sar√† "default" ma "" (stringa vuota).

* ‚úÖ migration
* ‚úÖ migrate
* ‚úÖ aggiornato seeder

Spetta un minuto, NON ERA is_nullable ma PLACEHOLDER la seconda colonna da inserire.
Vale la pena? Piuttosto non sarebbe meglio inserire un text con il suggerimento
che riporti la richiesta dalla federazione? L'italian tax id (codice fiscale),
il card id (numero tessera), le onorificenze?

Per le onorificenze c'√® gi√† segnata la [issue #38](https://github.com/mrai64/yapcp/issues/38)
Non serve replicare che anche per questa cosa servir√† definire una tabella delle
onorificenze "di federazione", mettendo i campi: federazione, un ordine sequenza, un codice distinzione
e un testo di spiega della distinzione. FIAF ha da poco cambiato le cose inserendo ulteriori
onorificenze.

## Laravel su Aruba: si-pu√≤-fa-re

Un video [Laravel su Aruba Hosting](https://youtu.be/XJBx3xCKJGs?si=4s69URB-15bese11)
mi conferma che son i piani intermedio e avanzato che hanno accesso ssh basta copiare
in ftp i file oppure si pu√≤ usare da terminale remoto composer. Si pu√≤ fare anche
con il piano base ma serve installare e nel caso RIMUOVERE le librerie in locale
per poi fare la copia di tutto, anche ./vendor in remoto.

PHPUnit in Aruba crea problemi. Non √® stato specificato quali, e probabilmente
se √® una libreria che deve eseguire codice e scrivere pu√≤ generare un alert worm.

Nome di dominio yapcp.? che primo livello serve? 

* yapcp.com registrato 1985-01-01 manca di sito web
* yapcp.net registrato 1985-01-01 manca di sito web
* yapcp.org registrato a tema yoga (ma non avrei intenzione di fare org)
* yapcp.photo registrato 2014 ma manca sito web
* yapcp.it libero (per ora)
* yapcp.photography

Aruba li dichiara tutti disponibili, vabb√®... 

## User Contacts [# 96](https://github.com/mrai64/yapcp/issues/96)

1. You are
2. Postal address for contest
3. Email and whatsapp for internal communication
4. Additional for ...
5. Social and other places

I tutorial si basano su moduli che devono inserire dati, io faccio una versione
diversa creando di fatto moduli di modifica solo si pochi campi ma che tutti, e dico
tutti sono moduli di modifica con input vuoto. L'input lo prendo sempre da Auth::id()
altrimenti rischio che cambiando il parametro in input si vada a modificare
o anche solo a vedere il dato di un utente terzo, quanto meno scocciante.
Quindi dovrei mettere in middleware il routing di modifica solo se
Auth::id() rientra nella tabella dei ruoli amministratore.

I campi aggiuntivi devo metterli in spazi separati, questo perch√© propongo
per tutti i campi dei default, e se metto insieme i campi di FIAF e FIAP,
per dirne una, quando do invio aggiorno e aggiungo i campi che hanno anche un
predefinito.

Per ogni federazione creo un pannello dedicato, per il momento posso
anche fare un pannello per FIAP e uno per FIAF, evitando di fare un
doppio loop: per ogni federazione e per ogni campo della federazione.

./modify-1-youare
./modify-2-postal
./modify-3-internalcomm
./modify-4-social
./modify-5-fiap
./modify-5-fiaf
./modify-5-psa
./modify-5-gpu

In questo modo EVITO di creare una gerarchia con primi e secondi.

```sh
$ php artisan livewire:make User/Contact/Modify1YouAre
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/User/Contact/Modify1YouAre.php
VIEW:  resources/views/livewire/user/contact/modify1-you-are.blade.php
```

Completato (Mario Rossi √® diventata Maria, amen...) con anche il caricamento della passport foto.

```sh
$ php artisan livewire:make User/Contact/Modify2PostAddress
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/User/Contact/Modify2PostAddress.php
VIEW:  resources/views/livewire/user/contact/modify2-post-address.blade.php
```

Si passa agl indirizzi. C'√® un package per laravel dedicato
agli [indirizzi di tutto il mondo](https://github.com/glhd/laravel-addressing)
ma forse √® un po' troppo. Inoltre non usa i codici a 3 lettere ma quelli a 2.
C'√® anche [Franklin](https://internachi.github.io/franklin/)

```sh
$ php artisan livewire:make User/Contact/Modify3Phones
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/User/Contact/Modify3Phones.php
VIEW:  resources/views/livewire/user/contact/modify3-phones.blade.php
```

Fatti 1 2 3

Manca quello dei social (tutti url) e oi passo a quello delle federazioni. Fatto sta che, sapendo gi√† in anticipo i pochi campi che servono (3 forse 2 alla FIAF, 2 forse alla FIAP), potrei pensare a un modulo pi√π tradizionale.
Man mano che le federazioni si aggiungono aggiungo moduli.

```sh
$ php artisan livewire:make User/Contact/Modify4Socials
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/User/Contact/Modify4Socials.php
VIEW:  resources/views/livewire/user/contact/modify4-socials.blade.php
```
