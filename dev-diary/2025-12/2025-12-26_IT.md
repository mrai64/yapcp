# Diario dello sviluppatore, data 26 dicembre 2025

* [index](../index.md) |
  [project](https://github.com/users/mrai64/projects/1/views/1?filterQuery=is%3Aopen&sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Title) issue list |
  [To Do List](../TDL.md) svuotato  

* [Route](/routes/web.php)

* [‚óÄÔ∏è Diario di ieri](./2025-12-25_IT.md)

* run <http://yapcp.test/>
* User Doc <http://yapcp.test/docs/1.0/>
* [log](/storage/logs/laravel-2025-12-26.log) | ngnix log  `open ~/Library/Application\ Support/Herd/Log`

## Today Do list

* üöß Sistemazione pagina welcome
* üöß Redazione docs / registrazione e ingresso
* ‚úÖ Sostituito il marchio LaRecipe con il marchio yaPCP nei docs

## Sistemazione welcome page

[blade](/resources/views/welcome.blade.php)

## Redazione docs

[registrazione](/resources/docs/1.0/users/registration.md)  
[user dashboard](/resources/docs/1.0/users/dashboard.md)  

## Users e user_contacts

Attualmente users ha una pk id in formato stringa uuid,
user_contacts ha una pk id in formato unsigned int autoincrement
e una user_di fk uuid che mantiene una relazione 1:1 basata su
users.id = user_contacts.user_id.  
Va bene cos√¨? A mio parere *anche s√¨, per√≤*. Per√≤ quello centrale
a cui si fa sempre riferimento √® user_contacts, mentre users
viene ridimensionato a solo entrata in piattaforma. Sarebbe
quindi preferibile che si invertano le parti padre/figlio
per cui ci sarebbe users.id pk unsigned ind autoincrementale,
ci sarebbe user_contact.id pk stringa uuid e il legame 1:1
sarebbe creato dall'indirizzo email ovvero user_contacts.email = users.email.

Le tabelle che fanno riferimento a users.id ma anche a user_contacts.user_id
andrebbero a passare il riferimento su user_contacts.id, e cambierebbero
anche i modelli di relazione da User::class a UserContact::class.

Dove mettere le mani (user_id diventa user_contact_id) nelle tabelle:

* contest_awards
* contest_juries
* contest_participants
* contest_votes
* contest_waitings
* contest_works
* user_contacts
* user_roles
* users
* work_validations
* works (che anche questo deve cambiare in user_works)

E relativi Model, e in altri 7(solo?) file:

* JuryMinuteDraft
* ContestAssign
* ContestAssignedDia
* ContestAwardAssign
* Draft
* SectionReview
* WorksParticipant

Ma poi ci sono anche le definizioni nei migration che commentano i campi fk:users.id


```sh
mysqldump --socket /tmp/mysql_3306.sock -u root --port=3306 -p --no-data > ~/Downloads/yapcp.sql
```

Passo tramite il sito <https://dbdiagram.io/home> che mi crea un file dbml:
[questo](./2025-12-26_dbml.txt).

La rivoluzione di user_contacts.user_id diventa user_contacts.id
quando la faccio? Quando sapr√≤ TUTTI i punti in cui intervenire.

## Excel

Serve chiudere il giro e non fermarsi al 359¬∞.
Parto dal Regolamento FIAF e verifico che dati devono essere messi nel foglio excel

[Regolamento Concorsi 2026](./2025-12-26_REGOLAMENTO-CONCORSI-REVISIONE-2026_1-0.pdf)  
Esempio Concorso patrocinato FIAF 2019Y1
[Excel Partecipanti Ammessi](./2025-12-26_ESEMPIO_file_Partecipanti_e_Ammissioni_2019Y1.xls)  
[Excel Partecpanti ed Esiti](./2025-12-26_ESEMPIO_FOTO_Partecipanti_ed_ESITI_2019_2019Y1.xls)  

###¬†Partecipanti e ammessi

Prima riga con font sans-serif 20px grassetto DENOMINAZIONE CONCORSO

Seconda riga intestazioni tabella

* A | Patrocinio Concorso  
font sans-serif 9 grassetto centrato  
contenuto: sempre il codice concorso 2019Y1, font sans-serif 10px

* B | Tessera FIAF  
font sans-serif 9 grassetto centrato (vale per tutta la riga 2)
contenuto: testo 6 caratteri numerici, 000000 per i non tesserati

* C | Codice fiscale  
(font vedi sopra)  
Contenuto: per i partecipanti italiani il codice fiscale italiano, per i partecipanti esteri una parola d 16 lettere x XXXXXXXXXXXXXXXX

* D | Cognome autore
* E | Nome autore
* F | Indirizzo autore  
Qui va riportato l'indirizzo stradale completo di numero civico, come si usa per le spedizioni postali
* G | CAP  
Codice avviamento postale
* H | Autore Citt√†  
Localit√† da indicare nella spedizione postale
* I | Autore Provincia Indirizzo  
La sigla utilizzata per le spedizioni postali
* J | Autore email  
* K | Onorificenza  
Le sigle delle onorificenze ricevute, da FIAF ma molti aggiungono tutte le onorificenze di tutte le federazioni

Dopo la colonna K seguono 2 colonne per ogni sezione, la prima segna con S / N se l'autore ha partecipato alla sezione tema, la seconda indica con spazio se non ha ricevuto ammissioni, oppure il numero di opere ammesse nella sezione: da 1 a N.

* L | (STAMPE | DIG) - nome sezione e Tema - codice sezione - Partecipazione  
contenuto: S / N
* M | (STAMPE | DIG) - nome sezione e Tema - codice sezione+'2' - Numero Ammissioni
contenuto: '' / 1 / 2 / 3 / 4

Primo punto: Serve raccogliere i dati "FIAF"
che si aggiungono a quelli di user_contacts
e che sono "per la federazione".

E per raccogliere i dati della FIAF devo prima dfinire che dati (2) vanno raccolti
in extra alla tabella user_contacts

```sh
$ php artisan make:migration create_federation_additional_field_names_table

   INFO  Migration [database/migrations/2025_12_26_174057_create_federation_additional_field_names_table.php] created successfully.  

$ php artisan make:factory FederationAdditionalFieldNameFactory

   INFO  Factory [database/factories/FederationAdditionalFieldNameFactory.php] created successfully.  

$ php artisan make:seeder FederationAdditionalFieldNameSeeder

   INFO  Seeder [database/seeders/FederationAdditionalFieldNameSeeder.php] created successfully.  
```

### FIGATA

Trovo che esiste gi√† il package per la veriifca del codice fiscale
