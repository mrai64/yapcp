# Diario dello sviluppatore, data 26 dicembre 2025

* [index](../index.md) |
  [project](https://github.com/users/mrai64/projects/1/views/1?filterQuery=is%3Aopen&sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Title) issue list |
  [To Do List](../TDL.md) svuotato  

* [Route](/routes/web.php)

* [‚óÄÔ∏è Diario di ieri](./2025-12-25_IT.md)

* run <http://yapcp.test/>
* User Doc <http://yapcp.test/docs/1.0/>
* [log](/storage/logs/laravel-2025-12-26.log) | ngnix log  `open ~/Library/Application\ Support/Herd/Log`

## Today Do list

* üöß Sistemazione pagina welcome
* üöß Redazione docs / registrazione e ingresso
* ‚úÖ Sostituito il marchio LaRecipe con il marchio yaPCP nei docs

## Sistemazione welcome page

[blade](/resources/views/welcome.blade.php)

## Redazione docs

[registrazione](/resources/docs/1.0/users/registration.md)  
[user dashboard](/resources/docs/1.0/users/dashboard.md)  

## Users e user_contacts

Attualmente users ha una pk id in formato stringa uuid,
user_contacts ha una pk id in formato unsigned int autoincrement
e una user_di fk uuid che mantiene una relazione 1:1 basata su
users.id = user_contacts.user_id.  
Va bene cos√¨? A mio parere *anche s√¨, per√≤*. Per√≤ quello centrale
a cui si fa sempre riferimento √® user_contacts, mentre users
viene ridimensionato a solo entrata in piattaforma. Sarebbe
quindi preferibile che si invertano le parti padre/figlio
per cui ci sarebbe users.id pk unsigned ind autoincrementale,
ci sarebbe user_contact.id pk stringa uuid e il legame 1:1
sarebbe creato dall'indirizzo email ovvero user_contacts.email = users.email.

Le tabelle che fanno riferimento a users.id ma anche a user_contacts.user_id
andrebbero a passare il riferimento su user_contacts.id, e cambierebbero
anche i modelli di relazione da User::class a UserContact::class.

### users

1. id unsigned bigint ai++
2. name string 255
3. email string 255 fk:user_contacts.email
4. email_verified_at datetime
5. password string 255
6. remember token string 100
7. created_at datetime
8. updated_at datetime
9. deleted_at datetime nullable default:NULL

idx

* primary id
* unique (email)
* index (updated_at)
* index (deleted_at)

### user_contacts

1. id string 36 uuid
1. country_id char 3 fk:countries.id
1. first_name string 255
1. last_name string 255
1. email string 255
1. passport_photo string 255 def:'anon.jpg'
1. cellular string 20 default:'' note: 'international prefix'
1. created_at datetime
1. updated_at datetime
1. deleted_at datetime

idx

* primary id
* unique (email)
* index (updated_at)
* index (deleted_at)
* index (country_id, last_name, first_name, created_at)

```sh
mysqldump --socket /tmp/mysql_3306.sock -u root --port=3306 -p --no-data > ~/Downloads/yapcp.sql
```

Passo tramite il sito <https://dbdiagram.io/home> che mi crea un file dbml:
[questo](./2025-12-26_dbml.txt).
