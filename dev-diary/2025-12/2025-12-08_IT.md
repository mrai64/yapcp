# Diario dello sviluppatore, data 8 dicembre 2025

* [index](../index.md) |
  [To Do List](../TDL.md) da svuotare e migrare in |
  [project](https://github.com/users/mrai64/projects/1) issue list

* [Route](/routes/web.php)

* [‚óÄÔ∏è Diario di ieri](./2025-12-07_IT.md)

* run <http://yapcp.test/>
* [log](/storage/logs/laravel-2025-12-08.log) | ngnix log  `open ~/Library/Application\ Support/Herd/Log`

## Pint

Eseguita verifica sui sorgenti.

## Award assign

La fase di assegnazione dei premi √® stata posizionata
in Organization\Award  

```sh
$ php artisan livewire:make Organization/Award/SectionAssign
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/Organization/Award/SectionAssign.php
VIEW:  resources/views/livewire/organization/award/section-assign.blade.php
$ php artisan livewire:make Organization/Award/ContestAssign
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/Organization/Award/ContestAssign.php
VIEW:  resources/views/livewire/organization/award/contest-assign.blade.php
$ php artisan livewire:make Organization/Award/MinuteDraft
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/Organization/Award/MinuteDraft.php
VIEW:  resources/views/livewire/organization/award/minute-draft.blade.php
$ php artisan livewire:make Organization/Award/SectionNav
 COMPONENT CREATED  ü§ô

CLASS: app/Livewire/Organization/Award/SectionNav.php
VIEW:  resources/views/livewire/organization/award/section-nav.blade.php
```

### Assegnazione dei premi alla sezione

Da ripetere per tutte le sezioni. Chiesto a gemini una opinione
sulla creazione di indici che coinvolgono la colonna deleted_at,
sintetizzo la risposta: no aggiungerla agli indici normali,
non aggiungerla alla primary key, ma creare s√¨ un indice per conto suo.

```php
Schema::table('nomedellatabella', function (Blueprint $table) {
    // ... altre colonne
    $table->softDeletes(); // Questo crea la colonna deleted_at
    // Opzionale: aggiungi l'indice esplicitamente se softDeletes() non lo fa
    // Nella versione 8.x di Laravel la chiamata $table->softDeletes() NON aggiunge un indice.
    $table->index('deleted_at'); 
});
```

Non uso softDeletes perch√©
le colonne deleted_at le creo esplicitamente come
datetime invece che timestamp in quanto datetime supera timestamp
come dimensione e come limite di data registrabile.

### Assign Contest awards

Per collaudare la sezione di navigazione il primo a cui fare riferimento √® il concorso,
prendo dalla tabella il primo contest_id che mi sembra utile e creo la pagina da
richiamare direttamente. Url:
 <https://yapcp.test/organization/award-assign/contest/6ed4133d-c0e7-4b83-9dc5-79f27c921340>

Questo ha un sacco di premi ma solo per la sezione BN. L'altro con uuid e8ac5674-c3d1-4afa-adaf-a7d5ed82d292
ha almeno 4 sezioni (due a portfolio)
<https://yapcp.test/organization/award-assign/contest/e8ac5674-c3d1-4afa-adaf-a7d5ed82d292>

### Segnalazione

Il concorso ha 4 sezioni con premi, ma 2 di queste sono state cancellate, e
non sono stati cancellati i rispettivi premi. Questo causa una disposizione
distorta di premi da assegnare per sezioni che non esistono.

√à stata cancellata la riga dei premi in corrispondenza delle sezioni
che sono state cancellate. Ma va pensato un meccanismo per cui se
vengono cancellate le sezioni devono essere "immediatamente"
essere cancellati eventuali record di giuria e di premi relativi
a quelle sezioni. SoftDelete, sempre recuperabili.

### Come li assegniamo questi premi?

Creare una tabella con le dia, ordinata per. Le prime N voci sono sempre abbinate ai premi,
e inizialmente i premi sono abbinati a delle immagini segnaposto.  
Se sposto una immagine

* la sposto dall'esterno all'interno delle prime n righe  
Il segnaposto viene sostituito dall'immagine
* la sposto dall'interno all'esterno delle prime n righe  
L'immagine va al suo posto e viene sostituita da un segnaposto
* la sposto dall'esterno A all'esterno B, ma sempre fuori dalle prime n righe  
la sposto e basta.

Forse troppo too much

### ¬†Piano B

* Sdoppio lo schermo in 2 videate, o in due pagine separate.
* Una pagina contiene l'elenco dei premi assegnati e non.
* L'altra pagina contiene l'elenco delle immagini ammesse.
O meglio quelle ammesse che no sono ancora state premiate.
ordinamento per autore.
* La schermata delle immagini ammesse consente
di selezionare per ogni immagine uno dei premi
rimasti a disposizione.  
Quando viene assegnato un premio, si aggiornano
manualmente entrambe le pagine.  
Se richiesto dal concorso, oltre all'immagine a premio spariscono tutte le altre immagini dell'autore.
* Quando un premio viene rimesso in palio, per un
legittimo ripensamento della giuria, torna visibile
nell'elenco delle opere ammesse non ancora premiate, insieme a quelle dello stesso autore. Nel caso.

Posso fare tutto con una sola pagina? 
Tecnicamente s√¨. Posso mettere un #name e usarlo nel
link per avere una pagina con l'inizio della pagina, 
e l'altra pagina sempre con lo stesso indirizzo ma che mostra
una seconda met√† della pagina con l'elenco delle immagini
da premiare.  
https:/(...)/uuid#premi  
https:/(...)/uuid#ammesse  

### Tutorial per drag n drop

Richiedono sempre i avere una tabella i cui elementi
vengono ordinati manualmente.
Questo comporta la presenza di una tabella con campo
sequenza, che deve essere valorizzato e poi aggiornato.

